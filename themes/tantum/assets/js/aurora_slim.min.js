!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.AV=e()}}(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){var key,val,_ref;_ref=_dereq_("./src/aurora_base");for(key in _ref){val=_ref[key];exports[key]=val}_dereq_("./src/devices/webaudio");_dereq_("./src/devices/mozilla")},{"./src/aurora_base":36,"./src/devices/mozilla":47,"./src/devices/webaudio":49}],2:[function(_dereq_,module,exports){},{}],3:[function(_dereq_,module,exports){var base64=_dereq_("base64-js");var ieee754=_dereq_("ieee754");var isArray=_dereq_("is-array");exports.Buffer=Buffer;exports.SlowBuffer=Buffer;exports.INSPECT_MAX_BYTES=50;Buffer.poolSize=8192;var kMaxLength=1073741823;Buffer.TYPED_ARRAY_SUPPORT=function(){try{var buf=new ArrayBuffer(0);var arr=new Uint8Array(buf);arr.foo=function(){return 42};return 42===arr.foo()&&typeof arr.subarray==="function"&&new Uint8Array(1).subarray(1,1).byteLength===0}catch(e){return false}}();function Buffer(subject,encoding,noZero){if(!(this instanceof Buffer))return new Buffer(subject,encoding,noZero);var type=typeof subject;var length;if(type==="number")length=subject>0?subject>>>0:0;else if(type==="string"){if(encoding==="base64")subject=base64clean(subject);length=Buffer.byteLength(subject,encoding)}else if(type==="object"&&subject!==null){if(subject.type==="Buffer"&&isArray(subject.data))subject=subject.data;length=+subject.length>0?Math.floor(+subject.length):0}else throw new TypeError("must start with number, buffer, array or string");if(this.length>kMaxLength)throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+kMaxLength.toString(16)+" bytes");var buf;if(Buffer.TYPED_ARRAY_SUPPORT){buf=Buffer._augment(new Uint8Array(length))}else{buf=this;buf.length=length;buf._isBuffer=true}var i;if(Buffer.TYPED_ARRAY_SUPPORT&&typeof subject.byteLength==="number"){buf._set(subject)}else if(isArrayish(subject)){if(Buffer.isBuffer(subject)){for(i=0;i<length;i++)buf[i]=subject.readUInt8(i)}else{for(i=0;i<length;i++)buf[i]=(subject[i]%256+256)%256}}else if(type==="string"){buf.write(subject,0,encoding)}else if(type==="number"&&!Buffer.TYPED_ARRAY_SUPPORT&&!noZero){for(i=0;i<length;i++){buf[i]=0}}return buf}Buffer.isBuffer=function(b){return!!(b!=null&&b._isBuffer)};Buffer.compare=function(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError("Arguments must be Buffers");var x=a.length;var y=b.length;for(var i=0,len=Math.min(x,y);i<len&&a[i]===b[i];i++){}if(i!==len){x=a[i];y=b[i]}if(x<y)return-1;if(y<x)return 1;return 0};Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};Buffer.concat=function(list,totalLength){if(!isArray(list))throw new TypeError("Usage: Buffer.concat(list[, length])");if(list.length===0){return new Buffer(0)}else if(list.length===1){return list[0]}var i;if(totalLength===undefined){totalLength=0;for(i=0;i<list.length;i++){totalLength+=list[i].length}}var buf=new Buffer(totalLength);var pos=0;for(i=0;i<list.length;i++){var item=list[i];item.copy(buf,pos);pos+=item.length}return buf};Buffer.byteLength=function(str,encoding){var ret;str=str+"";switch(encoding||"utf8"){case"ascii":case"binary":case"raw":ret=str.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ret=str.length*2;break;case"hex":ret=str.length>>>1;break;case"utf8":case"utf-8":ret=utf8ToBytes(str).length;break;case"base64":ret=base64ToBytes(str).length;break;default:ret=str.length}return ret};Buffer.prototype.length=undefined;Buffer.prototype.parent=undefined;Buffer.prototype.toString=function(encoding,start,end){var loweredCase=false;start=start>>>0;end=end===undefined||end===Infinity?this.length:end>>>0;if(!encoding)encoding="utf8";if(start<0)start=0;if(end>this.length)end=this.length;if(end<=start)return"";while(true){switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"binary":return binarySlice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase();loweredCase=true}}};Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return Buffer.compare(this,b)===0};Buffer.prototype.inspect=function(){var str="";var max=exports.INSPECT_MAX_BYTES;if(this.length>0){str=this.toString("hex",0,max).match(/.{2}/g).join(" ");if(this.length>max)str+=" ... "}return"<Buffer "+str+">"};Buffer.prototype.compare=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return Buffer.compare(this,b)};Buffer.prototype.get=function(offset){console.log(".get() is deprecated. Access using array indexes instead.");return this.readUInt8(offset)};Buffer.prototype.set=function(v,offset){console.log(".set() is deprecated. Access using array indexes instead.");return this.writeUInt8(v,offset)};function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;if(!length){length=remaining}else{length=Number(length);if(length>remaining){length=remaining}}var strLen=string.length;if(strLen%2!==0)throw new Error("Invalid hex string");if(length>strLen/2){length=strLen/2}for(var i=0;i<length;i++){var byte=parseInt(string.substr(i*2,2),16);if(isNaN(byte))throw new Error("Invalid hex string");buf[offset+i]=byte}return i}function utf8Write(buf,string,offset,length){var charsWritten=blitBuffer(utf8ToBytes(string),buf,offset,length);return charsWritten}function asciiWrite(buf,string,offset,length){var charsWritten=blitBuffer(asciiToBytes(string),buf,offset,length);return charsWritten}function binaryWrite(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){var charsWritten=blitBuffer(base64ToBytes(string),buf,offset,length);return charsWritten}function utf16leWrite(buf,string,offset,length){var charsWritten=blitBuffer(utf16leToBytes(string),buf,offset,length);return charsWritten}Buffer.prototype.write=function(string,offset,length,encoding){if(isFinite(offset)){if(!isFinite(length)){encoding=length;length=undefined}}else{var swap=encoding;encoding=offset;offset=length;length=swap}offset=Number(offset)||0;var remaining=this.length-offset;if(!length){length=remaining}else{length=Number(length);if(length>remaining){length=remaining}}encoding=String(encoding||"utf8").toLowerCase();var ret;switch(encoding){case"hex":ret=hexWrite(this,string,offset,length);break;case"utf8":case"utf-8":ret=utf8Write(this,string,offset,length);break;case"ascii":ret=asciiWrite(this,string,offset,length);break;case"binary":ret=binaryWrite(this,string,offset,length);break;case"base64":ret=base64Write(this,string,offset,length);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ret=utf16leWrite(this,string,offset,length);break;default:throw new TypeError("Unknown encoding: "+encoding)}return ret};Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(buf,start,end){if(start===0&&end===buf.length){return base64.fromByteArray(buf)}else{return base64.fromByteArray(buf.slice(start,end))}}function utf8Slice(buf,start,end){var res="";var tmp="";end=Math.min(buf.length,end);for(var i=start;i<end;i++){if(buf[i]<=127){res+=decodeUtf8Char(tmp)+String.fromCharCode(buf[i]);tmp=""}else{tmp+="%"+buf[i].toString(16)}}return res+decodeUtf8Char(tmp)}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;i++){ret+=String.fromCharCode(buf[i])}return ret}function binarySlice(buf,start,end){return asciiSlice(buf,start,end)}function hexSlice(buf,start,end){var len=buf.length;if(!start||start<0)start=0;if(!end||end<0||end>len)end=len;var out="";for(var i=start;i<end;i++){out+=toHex(buf[i])}return out}function utf16leSlice(buf,start,end){var bytes=buf.slice(start,end);var res="";for(var i=0;i<bytes.length;i+=2){res+=String.fromCharCode(bytes[i]+bytes[i+1]*256)}return res}Buffer.prototype.slice=function(start,end){var len=this.length;start=~~start;end=end===undefined?len:~~end;if(start<0){start+=len;if(start<0)start=0}else if(start>len){start=len}if(end<0){end+=len;if(end<0)end=0}else if(end>len){end=len}if(end<start)end=start;if(Buffer.TYPED_ARRAY_SUPPORT){return Buffer._augment(this.subarray(start,end))}else{var sliceLen=end-start;var newBuf=new Buffer(sliceLen,undefined,true);for(var i=0;i<sliceLen;i++){newBuf[i]=this[i+start]}return newBuf}};function checkOffset(offset,ext,length){if(offset%1!==0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}Buffer.prototype.readUInt8=function(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);return this[offset]};Buffer.prototype.readUInt16LE=function(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]|this[offset+1]<<8};Buffer.prototype.readUInt16BE=function(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]<<8|this[offset+1]};Buffer.prototype.readUInt32LE=function(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+this[offset+3]*16777216};Buffer.prototype.readUInt32BE=function(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]*16777216+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])};Buffer.prototype.readInt8=function(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);if(!(this[offset]&128))return this[offset];return(255-this[offset]+1)*-1};Buffer.prototype.readInt16LE=function(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt16BE=function(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt32LE=function(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24};Buffer.prototype.readInt32BE=function(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]};Buffer.prototype.readFloatLE=function(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,true,23,4)};Buffer.prototype.readFloatBE=function(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,false,23,4)};Buffer.prototype.readDoubleLE=function(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,true,52,8)};Buffer.prototype.readDoubleBE=function(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,false,52,8)};function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError("buffer must be a Buffer instance");if(value>max||value<min)throw new TypeError("value is out of bounds");if(offset+ext>buf.length)throw new TypeError("index out of range")}Buffer.prototype.writeUInt8=function(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,1,255,0);if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value);this[offset]=value;return offset+1};function objectWriteUInt16(buf,value,offset,littleEndian){if(value<0)value=65535+value+1;for(var i=0,j=Math.min(buf.length-offset,2);i<j;i++){buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>(littleEndian?i:1-i)*8}}Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value;this[offset+1]=value>>>8}else objectWriteUInt16(this,value,offset,true);return offset+2};Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value}else objectWriteUInt16(this,value,offset,false);return offset+2};function objectWriteUInt32(buf,value,offset,littleEndian){if(value<0)value=4294967295+value+1;for(var i=0,j=Math.min(buf.length-offset,4);i<j;i++){buf[offset+i]=value>>>(littleEndian?i:3-i)*8&255}}Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset+3]=value>>>24;this[offset+2]=value>>>16;this[offset+1]=value>>>8;this[offset]=value}else objectWriteUInt32(this,value,offset,true);return offset+4};Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value}else objectWriteUInt32(this,value,offset,false);return offset+4};Buffer.prototype.writeInt8=function(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,1,127,-128);if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value);if(value<0)value=255+value+1;this[offset]=value;return offset+1};Buffer.prototype.writeInt16LE=function(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value;this[offset+1]=value>>>8}else objectWriteUInt16(this,value,offset,true);return offset+2};Buffer.prototype.writeInt16BE=function(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value}else objectWriteUInt16(this,value,offset,false);return offset+2};Buffer.prototype.writeInt32LE=function(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value;this[offset+1]=value>>>8;this[offset+2]=value>>>16;this[offset+3]=value>>>24}else objectWriteUInt32(this,value,offset,true);return offset+4};Buffer.prototype.writeInt32BE=function(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(value<0)value=4294967295+value+1;if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value}else objectWriteUInt32(this,value,offset,false);return offset+4};function checkIEEE754(buf,value,offset,ext,max,min){if(value>max||value<min)throw new TypeError("value is out of bounds");if(offset+ext>buf.length)throw new TypeError("index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){if(!noAssert)checkIEEE754(buf,value,offset,4,3.4028234663852886e38,-3.4028234663852886e38);ieee754.write(buf,value,offset,littleEndian,23,4);return offset+4}Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,true,noAssert)};Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,false,noAssert)};function writeDouble(buf,value,offset,littleEndian,noAssert){if(!noAssert)checkIEEE754(buf,value,offset,8,1.7976931348623157e308,-1.7976931348623157e308);ieee754.write(buf,value,offset,littleEndian,52,8);return offset+8}Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,true,noAssert)};Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,false,noAssert)};Buffer.prototype.copy=function(target,target_start,start,end){var source=this;if(!start)start=0;if(!end&&end!==0)end=this.length;if(!target_start)target_start=0;if(end===start)return;if(target.length===0||source.length===0)return;if(end<start)throw new TypeError("sourceEnd < sourceStart");if(target_start<0||target_start>=target.length)throw new TypeError("targetStart out of bounds");if(start<0||start>=source.length)throw new TypeError("sourceStart out of bounds");if(end<0||end>source.length)throw new TypeError("sourceEnd out of bounds");if(end>this.length)end=this.length;if(target.length-target_start<end-start)end=target.length-target_start+start;var len=end-start;if(len<100||!Buffer.TYPED_ARRAY_SUPPORT){for(var i=0;i<len;i++){target[i+target_start]=this[i+start]}}else{target._set(this.subarray(start,start+len),target_start)}};Buffer.prototype.fill=function(value,start,end){if(!value)value=0;if(!start)start=0;if(!end)end=this.length;if(end<start)throw new TypeError("end < start");if(end===start)return;if(this.length===0)return;if(start<0||start>=this.length)throw new TypeError("start out of bounds");if(end<0||end>this.length)throw new TypeError("end out of bounds");var i;if(typeof value==="number"){for(i=start;i<end;i++){this[i]=value}}else{var bytes=utf8ToBytes(value.toString());var len=bytes.length;for(i=start;i<end;i++){this[i]=bytes[i%len]}}return this};Buffer.prototype.toArrayBuffer=function(){if(typeof Uint8Array!=="undefined"){if(Buffer.TYPED_ARRAY_SUPPORT){return new Buffer(this).buffer}else{var buf=new Uint8Array(this.length);for(var i=0,len=buf.length;i<len;i+=1){buf[i]=this[i]}return buf.buffer}}else{throw new TypeError("Buffer.toArrayBuffer not supported in this browser")}};var BP=Buffer.prototype;Buffer._augment=function(arr){arr._isBuffer=true;arr._get=arr.get;arr._set=arr.set;arr.get=BP.get;arr.set=BP.set;arr.write=BP.write;arr.toString=BP.toString;arr.toLocaleString=BP.toString;arr.toJSON=BP.toJSON;arr.equals=BP.equals;arr.compare=BP.compare;arr.copy=BP.copy;arr.slice=BP.slice;arr.readUInt8=BP.readUInt8;arr.readUInt16LE=BP.readUInt16LE;arr.readUInt16BE=BP.readUInt16BE;arr.readUInt32LE=BP.readUInt32LE;arr.readUInt32BE=BP.readUInt32BE;arr.readInt8=BP.readInt8;arr.readInt16LE=BP.readInt16LE;arr.readInt16BE=BP.readInt16BE;arr.readInt32LE=BP.readInt32LE;arr.readInt32BE=BP.readInt32BE;arr.readFloatLE=BP.readFloatLE;arr.readFloatBE=BP.readFloatBE;arr.readDoubleLE=BP.readDoubleLE;arr.readDoubleBE=BP.readDoubleBE;arr.writeUInt8=BP.writeUInt8;arr.writeUInt16LE=BP.writeUInt16LE;arr.writeUInt16BE=BP.writeUInt16BE;arr.writeUInt32LE=BP.writeUInt32LE;arr.writeUInt32BE=BP.writeUInt32BE;arr.writeInt8=BP.writeInt8;arr.writeInt16LE=BP.writeInt16LE;arr.writeInt16BE=BP.writeInt16BE;arr.writeInt32LE=BP.writeInt32LE;arr.writeInt32BE=BP.writeInt32BE;arr.writeFloatLE=BP.writeFloatLE;arr.writeFloatBE=BP.writeFloatBE;arr.writeDoubleLE=BP.writeDoubleLE;arr.writeDoubleBE=BP.writeDoubleBE;arr.fill=BP.fill;arr.inspect=BP.inspect;arr.toArrayBuffer=BP.toArrayBuffer;return arr};var INVALID_BASE64_RE=/[^+\/0-9A-z]/g;function base64clean(str){str=stringtrim(str).replace(INVALID_BASE64_RE,"");while(str.length%4!==0){str=str+"="}return str}function stringtrim(str){if(str.trim)return str.trim();return str.replace(/^\s+|\s+$/g,"")}function isArrayish(subject){return isArray(subject)||Buffer.isBuffer(subject)||subject&&typeof subject==="object"&&typeof subject.length==="number"}function toHex(n){if(n<16)return"0"+n.toString(16);return n.toString(16)}function utf8ToBytes(str){var byteArray=[];for(var i=0;i<str.length;i++){var b=str.charCodeAt(i);if(b<=127){byteArray.push(b)}else{var start=i;if(b>=55296&&b<=57343)i++;var h=encodeURIComponent(str.slice(start,i+1)).substr(1).split("%");for(var j=0;j<h.length;j++){byteArray.push(parseInt(h[j],16))}}}return byteArray}function asciiToBytes(str){var byteArray=[];for(var i=0;i<str.length;i++){byteArray.push(str.charCodeAt(i)&255)}return byteArray}function utf16leToBytes(str){var c,hi,lo;var byteArray=[];for(var i=0;i<str.length;i++){c=str.charCodeAt(i);hi=c>>8;lo=c%256;byteArray.push(lo);byteArray.push(hi)}return byteArray}function base64ToBytes(str){return base64.toByteArray(str)}function blitBuffer(src,dst,offset,length){for(var i=0;i<length;i++){if(i+offset>=dst.length||i>=src.length)break;dst[i+offset]=src[i]}return i}function decodeUtf8Char(str){try{return decodeURIComponent(str)}catch(err){return String.fromCharCode(65533)}}},{"base64-js":4,ieee754:5,"is-array":6}],4:[function(_dereq_,module,exports){var lookup="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";(function(exports){"use strict";var Arr=typeof Uint8Array!=="undefined"?Uint8Array:Array;var PLUS="+".charCodeAt(0);var SLASH="/".charCodeAt(0);var NUMBER="0".charCodeAt(0);var LOWER="a".charCodeAt(0);var UPPER="A".charCodeAt(0);function decode(elt){var code=elt.charCodeAt(0);if(code===PLUS)return 62;if(code===SLASH)return 63;if(code<NUMBER)return-1;if(code<NUMBER+10)return code-NUMBER+26+26;if(code<UPPER+26)return code-UPPER;if(code<LOWER+26)return code-LOWER+26}function b64ToByteArray(b64){var i,j,l,tmp,placeHolders,arr;if(b64.length%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var len=b64.length;placeHolders="="===b64.charAt(len-2)?2:"="===b64.charAt(len-1)?1:0;arr=new Arr(b64.length*3/4-placeHolders);l=placeHolders>0?b64.length-4:b64.length;var L=0;function push(v){arr[L++]=v}for(i=0,j=0;i<l;i+=4,j+=3){tmp=decode(b64.charAt(i))<<18|decode(b64.charAt(i+1))<<12|decode(b64.charAt(i+2))<<6|decode(b64.charAt(i+3));push((tmp&16711680)>>16);push((tmp&65280)>>8);push(tmp&255)}if(placeHolders===2){tmp=decode(b64.charAt(i))<<2|decode(b64.charAt(i+1))>>4;push(tmp&255)}else if(placeHolders===1){tmp=decode(b64.charAt(i))<<10|decode(b64.charAt(i+1))<<4|decode(b64.charAt(i+2))>>2;push(tmp>>8&255);push(tmp&255)}return arr}function uint8ToBase64(uint8){var i,extraBytes=uint8.length%3,output="",temp,length;function encode(num){return lookup.charAt(num)}function tripletToBase64(num){return encode(num>>18&63)+encode(num>>12&63)+encode(num>>6&63)+encode(num&63)}for(i=0,length=uint8.length-extraBytes;i<length;i+=3){temp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2];output+=tripletToBase64(temp)}switch(extraBytes){case 1:temp=uint8[uint8.length-1];output+=encode(temp>>2);output+=encode(temp<<4&63);output+="==";break;case 2:temp=(uint8[uint8.length-2]<<8)+uint8[uint8.length-1];output+=encode(temp>>10);output+=encode(temp>>4&63);output+=encode(temp<<2&63);output+="=";break}return output}exports.toByteArray=b64ToByteArray;exports.fromByteArray=uint8ToBase64})(typeof exports==="undefined"?this.base64js={}:exports)},{}],5:[function(_dereq_,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=nBytes*8-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];i+=d;e=s&(1<<-nBits)-1;s>>=-nBits;nBits+=eLen;for(;nBits>0;e=e*256+buffer[offset+i],i+=d,nBits-=8);m=e&(1<<-nBits)-1;e>>=-nBits;nBits+=mLen;for(;nBits>0;m=m*256+buffer[offset+i],i+=d,nBits-=8);if(e===0){e=1-eBias}else if(e===eMax){return m?NaN:(s?-1:1)*Infinity}else{m=m+Math.pow(2,mLen);e=e-eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)};exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=nBytes*8-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=mLen===23?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||value===0&&1/value<0?1:0;value=Math.abs(value);if(isNaN(value)||value===Infinity){m=isNaN(value)?1:0;e=eMax}else{e=Math.floor(Math.log(value)/Math.LN2);if(value*(c=Math.pow(2,-e))<1){e--;c*=2}if(e+eBias>=1){value+=rt/c}else{value+=rt*Math.pow(2,1-eBias)}if(value*c>=2){e++;c/=2}if(e+eBias>=eMax){m=0;e=eMax}else if(e+eBias>=1){m=(value*c-1)*Math.pow(2,mLen);e=e+eBias}else{m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen);e=0}}for(;mLen>=8;buffer[offset+i]=m&255,i+=d,m/=256,mLen-=8);e=e<<mLen|m;eLen+=mLen;for(;eLen>0;buffer[offset+i]=e&255,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=s*128}},{}],6:[function(_dereq_,module,exports){var isArray=Array.isArray;var str=Object.prototype.toString;module.exports=isArray||function(val){return!!val&&"[object Array]"==str.call(val)}},{}],7:[function(_dereq_,module,exports){function EventEmitter(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;EventEmitter.defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError("n must be a positive number");this._maxListeners=n;return this};EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(!this._events)this._events={};if(type==="error"){if(!this._events.error||isObject(this._events.error)&&!this._events.error.length){er=arguments[1];if(er instanceof Error){throw er}throw TypeError('Uncaught, unspecified "error" event.')}}handler=this._events[type];if(isUndefined(handler))return false;if(isFunction(handler)){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:len=arguments.length;args=new Array(len-1);for(i=1;i<len;i++)args[i-1]=arguments[i];handler.apply(this,args)}}else if(isObject(handler)){len=arguments.length;args=new Array(len-1);for(i=1;i<len;i++)args[i-1]=arguments[i];listeners=handler.slice();len=listeners.length;for(i=0;i<len;i++)listeners[i].apply(this,args)}return true};EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener);if(!this._events[type])this._events[type]=listener;else if(isObject(this._events[type]))this._events[type].push(listener);else this._events[type]=[this._events[type],listener];if(isObject(this._events[type])&&!this._events[type].warned){var m;if(!isUndefined(this._maxListeners)){m=this._maxListeners}else{m=EventEmitter.defaultMaxListeners}if(m&&m>0&&this._events[type].length>m){this._events[type].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[type].length);if(typeof console.trace==="function"){console.trace()}}}return this};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(type,listener){if(!isFunction(listener))throw TypeError("listener must be a function");var fired=false;function g(){this.removeListener(type,g);if(!fired){fired=true;listener.apply(this,arguments)}}g.listener=listener;this.on(type,g);return this};EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;list=this._events[type];length=list.length;position=-1;if(list===listener||isFunction(list.listener)&&list.listener===listener){delete this._events[type];if(this._events.removeListener)this.emit("removeListener",type,listener)}else if(isObject(list)){for(i=length;i-->0;){if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}}if(position<0)return this;if(list.length===1){list.length=0;delete this._events[type]}else{list.splice(position,1)}if(this._events.removeListener)this.emit("removeListener",type,listener)}return this};EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[type])delete this._events[type];return this}if(arguments.length===0){for(key in this._events){if(key==="removeListener")continue;this.removeAllListeners(key)}this.removeAllListeners("removeListener");this._events={};return this}listeners=this._events[type];if(isFunction(listeners)){this.removeListener(type,listeners)}else{while(listeners.length)this.removeListener(type,listeners[listeners.length-1])}delete this._events[type];return this};EventEmitter.prototype.listeners=function(type){var ret;if(!this._events||!this._events[type])ret=[];else if(isFunction(this._events[type]))ret=[this._events[type]];else ret=this._events[type].slice();return ret};EventEmitter.listenerCount=function(emitter,type){var ret;if(!emitter._events||!emitter._events[type])ret=0;else if(isFunction(emitter._events[type]))ret=1;else ret=emitter._events[type].length;return ret};function isFunction(arg){return typeof arg==="function"}function isNumber(arg){return typeof arg==="number"}function isObject(arg){return typeof arg==="object"&&arg!==null}function isUndefined(arg){return arg===void 0}},{}],8:[function(_dereq_,module,exports){var http=module.exports;var EventEmitter=_dereq_("events").EventEmitter;var Request=_dereq_("./lib/request");var url=_dereq_("url");http.request=function(params,cb){if(typeof params==="string"){params=url.parse(params)}if(!params)params={};if(!params.host&&!params.port){params.port=parseInt(window.location.port,10)}if(!params.host&&params.hostname){params.host=params.hostname}if(!params.protocol){if(params.scheme){params.protocol=params.scheme+":"}else{params.protocol=window.location.protocol}}if(!params.host){params.host=window.location.hostname||window.location.host}if(/:/.test(params.host)){if(!params.port){params.port=params.host.split(":")[1]}params.host=params.host.split(":")[0]}if(!params.port)params.port=params.protocol=="https:"?443:80;var req=new Request(new xhrHttp,params);if(cb)req.on("response",cb);return req};http.get=function(params,cb){params.method="GET";var req=http.request(params,cb);req.end();return req};http.Agent=function(){};http.Agent.defaultMaxSockets=4;var xhrHttp=function(){if(typeof window==="undefined"){throw new Error("no window object present")}else if(window.XMLHttpRequest){return window.XMLHttpRequest}else if(window.ActiveXObject){var axs=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"];for(var i=0;i<axs.length;i++){try{var ax=new window.ActiveXObject(axs[i]);return function(){if(ax){var ax_=ax;ax=null;return ax_}else{return new window.ActiveXObject(axs[i])}}}catch(e){}}throw new Error("ajax not supported in this browser")}else{throw new Error("ajax not supported in this browser")}}();http.STATUS_CODES={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}
},{"./lib/request":9,events:7,url:32}],9:[function(_dereq_,module,exports){var Stream=_dereq_("stream");var Response=_dereq_("./response");var Base64=_dereq_("Base64");var inherits=_dereq_("inherits");var Request=module.exports=function(xhr,params){var self=this;self.writable=true;self.xhr=xhr;self.body=[];self.uri=(params.protocol||"http:")+"//"+params.host+(params.port?":"+params.port:"")+(params.path||"/");if(typeof params.withCredentials==="undefined"){params.withCredentials=true}try{xhr.withCredentials=params.withCredentials}catch(e){}if(params.responseType)try{xhr.responseType=params.responseType}catch(e){}xhr.open(params.method||"GET",self.uri,true);xhr.onerror=function(event){self.emit("error",new Error("Network error"))};self._headers={};if(params.headers){var keys=objectKeys(params.headers);for(var i=0;i<keys.length;i++){var key=keys[i];if(!self.isSafeRequestHeader(key))continue;var value=params.headers[key];self.setHeader(key,value)}}if(params.auth){this.setHeader("Authorization","Basic "+Base64.btoa(params.auth))}var res=new Response;res.on("close",function(){self.emit("close")});res.on("ready",function(){self.emit("response",res)});res.on("error",function(err){self.emit("error",err)});xhr.onreadystatechange=function(){if(xhr.__aborted)return;res.handle(xhr)}};inherits(Request,Stream);Request.prototype.setHeader=function(key,value){this._headers[key.toLowerCase()]=value};Request.prototype.getHeader=function(key){return this._headers[key.toLowerCase()]};Request.prototype.removeHeader=function(key){delete this._headers[key.toLowerCase()]};Request.prototype.write=function(s){this.body.push(s)};Request.prototype.destroy=function(s){this.xhr.__aborted=true;this.xhr.abort();this.emit("close")};Request.prototype.end=function(s){if(s!==undefined)this.body.push(s);var keys=objectKeys(this._headers);for(var i=0;i<keys.length;i++){var key=keys[i];var value=this._headers[key];if(isArray(value)){for(var j=0;j<value.length;j++){this.xhr.setRequestHeader(key,value[j])}}else this.xhr.setRequestHeader(key,value)}if(this.body.length===0){this.xhr.send("")}else if(typeof this.body[0]==="string"){this.xhr.send(this.body.join(""))}else if(isArray(this.body[0])){var body=[];for(var i=0;i<this.body.length;i++){body.push.apply(body,this.body[i])}this.xhr.send(body)}else if(/Array/.test(Object.prototype.toString.call(this.body[0]))){var len=0;for(var i=0;i<this.body.length;i++){len+=this.body[i].length}var body=new this.body[0].constructor(len);var k=0;for(var i=0;i<this.body.length;i++){var b=this.body[i];for(var j=0;j<b.length;j++){body[k++]=b[j]}}this.xhr.send(body)}else{var body="";for(var i=0;i<this.body.length;i++){body+=this.body[i].toString()}this.xhr.send(body)}};Request.unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];Request.prototype.isSafeRequestHeader=function(headerName){if(!headerName)return false;return indexOf(Request.unsafeHeaders,headerName.toLowerCase())===-1};var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==="[object Array]"};var indexOf=function(xs,x){if(xs.indexOf)return xs.indexOf(x);for(var i=0;i<xs.length;i++){if(xs[i]===x)return i}return-1}},{"./response":10,Base64:11,inherits:12,stream:31}],10:[function(_dereq_,module,exports){var Stream=_dereq_("stream");var util=_dereq_("util");var Response=module.exports=function(res){this.offset=0;this.readable=true};util.inherits(Response,Stream);var capable={streaming:true,status2:true};function parseHeaders(res){var lines=res.getAllResponseHeaders().split(/\r?\n/);var headers={};for(var i=0;i<lines.length;i++){var line=lines[i];if(line==="")continue;var m=line.match(/^([^:]+):\s*(.*)/);if(m){var key=m[1].toLowerCase(),value=m[2];if(headers[key]!==undefined){if(isArray(headers[key])){headers[key].push(value)}else{headers[key]=[headers[key],value]}}else{headers[key]=value}}else{headers[line]=true}}return headers}Response.prototype.getResponse=function(xhr){var respType=String(xhr.responseType).toLowerCase();if(respType==="blob")return xhr.responseBlob||xhr.response;if(respType==="arraybuffer")return xhr.response;return xhr.responseText};Response.prototype.getHeader=function(key){return this.headers[key.toLowerCase()]};Response.prototype.handle=function(res){if(res.readyState===2&&capable.status2){try{this.statusCode=res.status;this.headers=parseHeaders(res)}catch(err){capable.status2=false}if(capable.status2){this.emit("ready")}}else if(capable.streaming&&res.readyState===3){try{if(!this.statusCode){this.statusCode=res.status;this.headers=parseHeaders(res);this.emit("ready")}}catch(err){}try{this._emitData(res)}catch(err){capable.streaming=false}}else if(res.readyState===4){if(!this.statusCode){this.statusCode=res.status;this.emit("ready")}this._emitData(res);if(res.error){this.emit("error",this.getResponse(res))}else this.emit("end");this.emit("close")}};Response.prototype._emitData=function(res){var respBody=this.getResponse(res);if(respBody.toString().match(/ArrayBuffer/)){this.emit("data",new Uint8Array(respBody,this.offset));this.offset=respBody.byteLength;return}if(respBody.length>this.offset){this.emit("data",respBody.slice(this.offset));this.offset=respBody.length}};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==="[object Array]"}},{stream:31,util:34}],11:[function(_dereq_,module,exports){(function(){var object=typeof exports!="undefined"?exports:this;var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function InvalidCharacterError(message){this.message=message}InvalidCharacterError.prototype=new Error;InvalidCharacterError.prototype.name="InvalidCharacterError";object.btoa||(object.btoa=function(input){for(var block,charCode,idx=0,map=chars,output="";input.charAt(idx|0)||(map="=",idx%1);output+=map.charAt(63&block>>8-idx%1*8)){charCode=input.charCodeAt(idx+=3/4);if(charCode>255){throw new InvalidCharacterError("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.")}block=block<<8|charCode}return output});object.atob||(object.atob=function(input){input=input.replace(/=+$/,"");if(input.length%4==1){throw new InvalidCharacterError("'atob' failed: The string to be decoded is not correctly encoded.")}for(var bc=0,bs,buffer,idx=0,output="";buffer=input.charAt(idx++);~buffer&&(bs=bc%4?bs*64+buffer:buffer,bc++%4)?output+=String.fromCharCode(255&bs>>(-2*bc&6)):0){buffer=chars.indexOf(buffer)}return output})})()},{}],12:[function(_dereq_,module,exports){if(typeof Object.create==="function"){module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}}else{module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}},{}],13:[function(_dereq_,module,exports){var process=module.exports={};process.nextTick=function(){var canSetImmediate=typeof window!=="undefined"&&window.setImmediate;var canPost=typeof window!=="undefined"&&window.postMessage&&window.addEventListener;if(canSetImmediate){return function(f){return window.setImmediate(f)}}if(canPost){var queue=[];window.addEventListener("message",function(ev){var source=ev.source;if((source===window||source===null)&&ev.data==="process-tick"){ev.stopPropagation();if(queue.length>0){var fn=queue.shift();fn()}}},true);return function nextTick(fn){queue.push(fn);window.postMessage("process-tick","*")}}return function nextTick(fn){setTimeout(fn,0)}}();process.title="browser";process.browser=true;process.env={};process.argv=[];function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")}},{}],14:[function(_dereq_,module,exports){(function(global){(function(root){var freeExports=typeof exports=="object"&&exports;var freeModule=typeof module=="object"&&module&&module.exports==freeExports&&module;var freeGlobal=typeof global=="object"&&global;if(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal){root=freeGlobal}var punycode,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^ -~]/,regexSeparators=/\x2E|\u3002|\uFF0E|\uFF61/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode,key;function error(type){throw RangeError(errors[type])}function map(array,fn){var length=array.length;while(length--){array[length]=fn(array[length])}return array}function mapDomain(string,fn){return map(string.split(regexSeparators),fn).join(".")}function ucs2decode(string){var output=[],counter=0,length=string.length,value,extra;while(counter<length){value=string.charCodeAt(counter++);if(value>=55296&&value<=56319&&counter<length){extra=string.charCodeAt(counter++);if((extra&64512)==56320){output.push(((value&1023)<<10)+(extra&1023)+65536)}else{output.push(value);counter--}}else{output.push(value)}}return output}function ucs2encode(array){return map(array,function(value){var output="";if(value>65535){value-=65536;output+=stringFromCharCode(value>>>10&1023|55296);value=56320|value&1023}output+=stringFromCharCode(value);return output}).join("")}function basicToDigit(codePoint){if(codePoint-48<10){return codePoint-22}if(codePoint-65<26){return codePoint-65}if(codePoint-97<26){return codePoint-97}return base}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((flag!=0)<<5)}function adapt(delta,numPoints,firstTime){var k=0;delta=firstTime?floor(delta/damp):delta>>1;delta+=floor(delta/numPoints);for(;delta>baseMinusTMin*tMax>>1;k+=base){delta=floor(delta/baseMinusTMin)}return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function decode(input){var output=[],inputLength=input.length,out,i=0,n=initialN,bias=initialBias,basic,j,index,oldi,w,k,digit,t,baseMinusT;basic=input.lastIndexOf(delimiter);if(basic<0){basic=0}for(j=0;j<basic;++j){if(input.charCodeAt(j)>=128){error("not-basic")}output.push(input.charCodeAt(j))}for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;;k+=base){if(index>=inputLength){error("invalid-input")}digit=basicToDigit(input.charCodeAt(index++));if(digit>=base||digit>floor((maxInt-i)/w)){error("overflow")}i+=digit*w;t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(digit<t){break}baseMinusT=base-t;if(w>floor(maxInt/baseMinusT)){error("overflow")}w*=baseMinusT}out=output.length+1;bias=adapt(i-oldi,out,oldi==0);if(floor(i/out)>maxInt-n){error("overflow")}n+=floor(i/out);i%=out;output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,output=[],inputLength,handledCPCountPlusOne,baseMinusT,qMinusT;input=ucs2decode(input);inputLength=input.length;n=initialN;delta=0;bias=initialBias;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<128){output.push(stringFromCharCode(currentValue))}}handledCPCount=basicLength=output.length;if(basicLength){output.push(delimiter)}while(handledCPCount<inputLength){for(m=maxInt,j=0;j<inputLength;++j){currentValue=input[j];if(currentValue>=n&&currentValue<m){m=currentValue}}handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((maxInt-delta)/handledCPCountPlusOne)){error("overflow")}delta+=(m-n)*handledCPCountPlusOne;n=m;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<n&&++delta>maxInt){error("overflow")}if(currentValue==n){for(q=delta,k=base;;k+=base){t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(q<t){break}qMinusT=q-t;baseMinusT=base-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0)));q=floor(qMinusT/baseMinusT)}output.push(stringFromCharCode(digitToBasic(q,0)));bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength);delta=0;++handledCPCount}}++delta;++n}return output.join("")}function toUnicode(domain){return mapDomain(domain,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string})}function toASCII(domain){return mapDomain(domain,function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string})}punycode={version:"1.2.4",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:toASCII,toUnicode:toUnicode};if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){define("punycode",function(){return punycode})}else if(freeExports&&!freeExports.nodeType){if(freeModule){freeModule.exports=punycode}else{for(key in punycode){punycode.hasOwnProperty(key)&&(freeExports[key]=punycode[key])}}}else{root.punycode=punycode}})(this)}).call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],15:[function(_dereq_,module,exports){"use strict";function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){sep=sep||"&";eq=eq||"=";var obj={};if(typeof qs!=="string"||qs.length===0){return obj}var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1e3;if(options&&typeof options.maxKeys==="number"){maxKeys=options.maxKeys}var len=qs.length;if(maxKeys>0&&len>maxKeys){len=maxKeys}for(var i=0;i<len;++i){var x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq),kstr,vstr,k,v;if(idx>=0){kstr=x.substr(0,idx);vstr=x.substr(idx+1)}else{kstr=x;vstr=""}k=decodeURIComponent(kstr);v=decodeURIComponent(vstr);if(!hasOwnProperty(obj,k)){obj[k]=v}else if(isArray(obj[k])){obj[k].push(v)}else{obj[k]=[obj[k],v]}}return obj};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==="[object Array]"}},{}],16:[function(_dereq_,module,exports){"use strict";var stringifyPrimitive=function(v){switch(typeof v){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return""}};module.exports=function(obj,sep,eq,name){sep=sep||"&";eq=eq||"=";if(obj===null){obj=undefined}if(typeof obj==="object"){return map(objectKeys(obj),function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;if(isArray(obj[k])){return map(obj[k],function(v){return ks+encodeURIComponent(stringifyPrimitive(v))}).join(sep)}else{return ks+encodeURIComponent(stringifyPrimitive(obj[k]))}}).join(sep)}if(!name)return"";return encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj))};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==="[object Array]"};function map(xs,f){if(xs.map)return xs.map(f);var res=[];for(var i=0;i<xs.length;i++){res.push(f(xs[i],i))}return res}var objectKeys=Object.keys||function(obj){var res=[];for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))res.push(key)}return res}},{}],17:[function(_dereq_,module,exports){"use strict";exports.decode=exports.parse=_dereq_("./decode");exports.encode=exports.stringify=_dereq_("./encode")},{"./decode":15,"./encode":16}],18:[function(_dereq_,module,exports){module.exports=_dereq_("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":19}],19:[function(_dereq_,module,exports){(function(process){module.exports=Duplex;var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};var util=_dereq_("core-util-is");util.inherits=_dereq_("inherits");var Readable=_dereq_("./_stream_readable");var Writable=_dereq_("./_stream_writable");util.inherits(Duplex,Readable);forEach(objectKeys(Writable.prototype),function(method){if(!Duplex.prototype[method])Duplex.prototype[method]=Writable.prototype[method]});function Duplex(options){if(!(this instanceof Duplex))return new Duplex(options);Readable.call(this,options);Writable.call(this,options);if(options&&options.readable===false)this.readable=false;if(options&&options.writable===false)this.writable=false;this.allowHalfOpen=true;if(options&&options.allowHalfOpen===false)this.allowHalfOpen=false;this.once("end",onend)}function onend(){if(this.allowHalfOpen||this._writableState.ended)return;process.nextTick(this.end.bind(this))}function forEach(xs,f){for(var i=0,l=xs.length;i<l;i++){f(xs[i],i)}}}).call(this,_dereq_("FWaASH"))},{"./_stream_readable":21,"./_stream_writable":23,FWaASH:13,"core-util-is":24,inherits:12}],20:[function(_dereq_,module,exports){module.exports=PassThrough;var Transform=_dereq_("./_stream_transform");var util=_dereq_("core-util-is");util.inherits=_dereq_("inherits");util.inherits(PassThrough,Transform);function PassThrough(options){if(!(this instanceof PassThrough))return new PassThrough(options);Transform.call(this,options)}PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},{"./_stream_transform":22,"core-util-is":24,inherits:12}],21:[function(_dereq_,module,exports){(function(process){module.exports=Readable;var isArray=_dereq_("isarray");var Buffer=_dereq_("buffer").Buffer;Readable.ReadableState=ReadableState;var EE=_dereq_("events").EventEmitter;if(!EE.listenerCount)EE.listenerCount=function(emitter,type){return emitter.listeners(type).length};var Stream=_dereq_("stream");var util=_dereq_("core-util-is");util.inherits=_dereq_("inherits");var StringDecoder;util.inherits(Readable,Stream);function ReadableState(options,stream){options=options||{};var hwm=options.highWaterMark;this.highWaterMark=hwm||hwm===0?hwm:16*1024;this.highWaterMark=~~this.highWaterMark;this.buffer=[];this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=false;this.ended=false;this.endEmitted=false;this.reading=false;this.calledRead=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.objectMode=!!options.objectMode;this.defaultEncoding=options.defaultEncoding||"utf8";this.ranOut=false;this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(options.encoding){if(!StringDecoder)StringDecoder=_dereq_("string_decoder/").StringDecoder;this.decoder=new StringDecoder(options.encoding);this.encoding=options.encoding}}function Readable(options){if(!(this instanceof Readable))return new Readable(options);this._readableState=new ReadableState(options,this);this.readable=true;Stream.call(this)}Readable.prototype.push=function(chunk,encoding){var state=this._readableState;if(typeof chunk==="string"&&!state.objectMode){encoding=encoding||state.defaultEncoding;if(encoding!==state.encoding){chunk=new Buffer(chunk,encoding);encoding=""}}return readableAddChunk(this,state,chunk,encoding,false)};Readable.prototype.unshift=function(chunk){var state=this._readableState;return readableAddChunk(this,state,chunk,"",true)};function readableAddChunk(stream,state,chunk,encoding,addToFront){var er=chunkInvalid(state,chunk);if(er){stream.emit("error",er)}else if(chunk===null||chunk===undefined){state.reading=false;if(!state.ended)onEofChunk(stream,state)}else if(state.objectMode||chunk&&chunk.length>0){if(state.ended&&!addToFront){var e=new Error("stream.push() after EOF");stream.emit("error",e)}else if(state.endEmitted&&addToFront){var e=new Error("stream.unshift() after end event");stream.emit("error",e)}else{if(state.decoder&&!addToFront&&!encoding)chunk=state.decoder.write(chunk);state.length+=state.objectMode?1:chunk.length;if(addToFront){state.buffer.unshift(chunk)}else{state.reading=false;state.buffer.push(chunk)}if(state.needReadable)emitReadable(stream);maybeReadMore(stream,state)}}else if(!addToFront){state.reading=false}return needMoreData(state)}function needMoreData(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||state.length===0)}Readable.prototype.setEncoding=function(enc){if(!StringDecoder)StringDecoder=_dereq_("string_decoder/").StringDecoder;this._readableState.decoder=new StringDecoder(enc);this._readableState.encoding=enc};var MAX_HWM=8388608;function roundUpToNextPowerOf2(n){if(n>=MAX_HWM){n=MAX_HWM}else{n--;for(var p=1;p<32;p<<=1)n|=n>>p;n++}return n}function howMuchToRead(n,state){if(state.length===0&&state.ended)return 0;if(state.objectMode)return n===0?0:1;if(n===null||isNaN(n)){if(state.flowing&&state.buffer.length)return state.buffer[0].length;else return state.length}if(n<=0)return 0;if(n>state.highWaterMark)state.highWaterMark=roundUpToNextPowerOf2(n);if(n>state.length){if(!state.ended){state.needReadable=true;return 0}else return state.length}return n}Readable.prototype.read=function(n){var state=this._readableState;state.calledRead=true;var nOrig=n;var ret;if(typeof n!=="number"||n>0)state.emittedReadable=false;if(n===0&&state.needReadable&&(state.length>=state.highWaterMark||state.ended)){emitReadable(this);return null}n=howMuchToRead(n,state);if(n===0&&state.ended){ret=null;if(state.length>0&&state.decoder){ret=fromList(n,state);state.length-=ret.length}if(state.length===0)endReadable(this);return ret}var doRead=state.needReadable;if(state.length-n<=state.highWaterMark)doRead=true;if(state.ended||state.reading)doRead=false;if(doRead){state.reading=true;state.sync=true;if(state.length===0)state.needReadable=true;this._read(state.highWaterMark);state.sync=false}if(doRead&&!state.reading)n=howMuchToRead(nOrig,state);if(n>0)ret=fromList(n,state);else ret=null;if(ret===null){state.needReadable=true;n=0}state.length-=n;if(state.length===0&&!state.ended)state.needReadable=true;if(state.ended&&!state.endEmitted&&state.length===0)endReadable(this);return ret};function chunkInvalid(state,chunk){var er=null;if(!Buffer.isBuffer(chunk)&&"string"!==typeof chunk&&chunk!==null&&chunk!==undefined&&!state.objectMode){er=new TypeError("Invalid non-string/buffer chunk")}return er}function onEofChunk(stream,state){if(state.decoder&&!state.ended){var chunk=state.decoder.end();if(chunk&&chunk.length){state.buffer.push(chunk);state.length+=state.objectMode?1:chunk.length}}state.ended=true;if(state.length>0)emitReadable(stream);else endReadable(stream)}function emitReadable(stream){var state=stream._readableState;state.needReadable=false;if(state.emittedReadable)return;state.emittedReadable=true;if(state.sync)process.nextTick(function(){emitReadable_(stream)});else emitReadable_(stream)}function emitReadable_(stream){stream.emit("readable")}function maybeReadMore(stream,state){if(!state.readingMore){state.readingMore=true;process.nextTick(function(){maybeReadMore_(stream,state)})}}function maybeReadMore_(stream,state){var len=state.length;while(!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark){stream.read(0);if(len===state.length)break;else len=state.length}state.readingMore=false}Readable.prototype._read=function(n){this.emit("error",new Error("not implemented"))};Readable.prototype.pipe=function(dest,pipeOpts){var src=this;var state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest);break}state.pipesCount+=1;var doEnd=(!pipeOpts||pipeOpts.end!==false)&&dest!==process.stdout&&dest!==process.stderr;var endFn=doEnd?onend:cleanup;if(state.endEmitted)process.nextTick(endFn);else src.once("end",endFn);dest.on("unpipe",onunpipe);function onunpipe(readable){if(readable!==src)return;cleanup()}function onend(){dest.end()}var ondrain=pipeOnDrain(src);dest.on("drain",ondrain);function cleanup(){dest.removeListener("close",onclose);dest.removeListener("finish",onfinish);dest.removeListener("drain",ondrain);dest.removeListener("error",onerror);dest.removeListener("unpipe",onunpipe);src.removeListener("end",onend);src.removeListener("end",cleanup);if(!dest._writableState||dest._writableState.needDrain)ondrain()}function onerror(er){unpipe();dest.removeListener("error",onerror);if(EE.listenerCount(dest,"error")===0)dest.emit("error",er)}if(!dest._events||!dest._events.error)dest.on("error",onerror);else if(isArray(dest._events.error))dest._events.error.unshift(onerror);else dest._events.error=[onerror,dest._events.error];function onclose(){dest.removeListener("finish",onfinish);unpipe()}dest.once("close",onclose);function onfinish(){dest.removeListener("close",onclose);unpipe()}dest.once("finish",onfinish);function unpipe(){src.unpipe(dest)}dest.emit("pipe",src);if(!state.flowing){this.on("readable",pipeOnReadable);state.flowing=true;process.nextTick(function(){flow(src)})}return dest};function pipeOnDrain(src){return function(){var dest=this;var state=src._readableState;state.awaitDrain--;if(state.awaitDrain===0)flow(src)}}function flow(src){var state=src._readableState;var chunk;state.awaitDrain=0;function write(dest,i,list){var written=dest.write(chunk);if(false===written){state.awaitDrain++}}while(state.pipesCount&&null!==(chunk=src.read())){if(state.pipesCount===1)write(state.pipes,0,null);else forEach(state.pipes,write);src.emit("data",chunk);if(state.awaitDrain>0)return}if(state.pipesCount===0){state.flowing=false;if(EE.listenerCount(src,"data")>0)emitDataEvents(src);return}state.ranOut=true}function pipeOnReadable(){if(this._readableState.ranOut){this._readableState.ranOut=false;flow(this)}}Readable.prototype.unpipe=function(dest){var state=this._readableState;if(state.pipesCount===0)return this;if(state.pipesCount===1){if(dest&&dest!==state.pipes)return this;if(!dest)dest=state.pipes;state.pipes=null;state.pipesCount=0;this.removeListener("readable",pipeOnReadable);state.flowing=false;if(dest)dest.emit("unpipe",this);return this}if(!dest){var dests=state.pipes;var len=state.pipesCount;state.pipes=null;state.pipesCount=0;this.removeListener("readable",pipeOnReadable);state.flowing=false;for(var i=0;i<len;i++)dests[i].emit("unpipe",this);return this}var i=indexOf(state.pipes,dest);if(i===-1)return this;state.pipes.splice(i,1);state.pipesCount-=1;if(state.pipesCount===1)state.pipes=state.pipes[0];dest.emit("unpipe",this);return this};Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if(ev==="data"&&!this._readableState.flowing)emitDataEvents(this);if(ev==="readable"&&this.readable){var state=this._readableState;if(!state.readableListening){state.readableListening=true;state.emittedReadable=false;state.needReadable=true;if(!state.reading){this.read(0)}else if(state.length){emitReadable(this,state)}}}return res};Readable.prototype.addListener=Readable.prototype.on;Readable.prototype.resume=function(){emitDataEvents(this);this.read(0);this.emit("resume")};Readable.prototype.pause=function(){emitDataEvents(this,true);this.emit("pause")};function emitDataEvents(stream,startPaused){var state=stream._readableState;if(state.flowing){throw new Error("Cannot switch to old mode now.")}var paused=startPaused||false;var readable=false;stream.readable=true;stream.pipe=Stream.prototype.pipe;stream.on=stream.addListener=Stream.prototype.on;stream.on("readable",function(){readable=true;var c;while(!paused&&null!==(c=stream.read()))stream.emit("data",c);if(c===null){readable=false;stream._readableState.needReadable=true}});stream.pause=function(){paused=true;this.emit("pause")};stream.resume=function(){paused=false;if(readable)process.nextTick(function(){stream.emit("readable")});else this.read(0);this.emit("resume")};stream.emit("readable")}Readable.prototype.wrap=function(stream){var state=this._readableState;var paused=false;var self=this;stream.on("end",function(){if(state.decoder&&!state.ended){var chunk=state.decoder.end();if(chunk&&chunk.length)self.push(chunk)}self.push(null)});stream.on("data",function(chunk){if(state.decoder)chunk=state.decoder.write(chunk);if(state.objectMode&&(chunk===null||chunk===undefined))return;else if(!state.objectMode&&(!chunk||!chunk.length))return;var ret=self.push(chunk);if(!ret){paused=true;stream.pause()}});for(var i in stream){if(typeof stream[i]==="function"&&typeof this[i]==="undefined"){this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i)}}var events=["error","close","destroy","pause","resume"];forEach(events,function(ev){stream.on(ev,self.emit.bind(self,ev))});self._read=function(n){if(paused){paused=false;stream.resume()}};return self};Readable._fromList=fromList;function fromList(n,state){var list=state.buffer;var length=state.length;var stringMode=!!state.decoder;var objectMode=!!state.objectMode;var ret;if(list.length===0)return null;if(length===0)ret=null;else if(objectMode)ret=list.shift();else if(!n||n>=length){if(stringMode)ret=list.join("");else ret=Buffer.concat(list,length);list.length=0}else{if(n<list[0].length){var buf=list[0];ret=buf.slice(0,n);list[0]=buf.slice(n)}else if(n===list[0].length){ret=list.shift()}else{if(stringMode)ret="";else ret=new Buffer(n);var c=0;for(var i=0,l=list.length;i<l&&c<n;i++){var buf=list[0];var cpy=Math.min(n-c,buf.length);if(stringMode)ret+=buf.slice(0,cpy);else buf.copy(ret,c,0,cpy);if(cpy<buf.length)list[0]=buf.slice(cpy);else list.shift();c+=cpy}}}return ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error("endReadable called on non-empty stream");if(!state.endEmitted&&state.calledRead){state.ended=true;process.nextTick(function(){if(!state.endEmitted&&state.length===0){state.endEmitted=true;stream.readable=false;stream.emit("end")}})}}function forEach(xs,f){for(var i=0,l=xs.length;i<l;i++){f(xs[i],i)}}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++){if(xs[i]===x)return i}return-1}}).call(this,_dereq_("FWaASH"))},{FWaASH:13,buffer:3,"core-util-is":24,events:7,inherits:12,isarray:25,stream:31,"string_decoder/":26}],22:[function(_dereq_,module,exports){module.exports=Transform;var Duplex=_dereq_("./_stream_duplex");var util=_dereq_("core-util-is");util.inherits=_dereq_("inherits");util.inherits(Transform,Duplex);function TransformState(options,stream){this.afterTransform=function(er,data){return afterTransform(stream,er,data)};this.needTransform=false;this.transforming=false;this.writecb=null;this.writechunk=null}function afterTransform(stream,er,data){var ts=stream._transformState;ts.transforming=false;var cb=ts.writecb;if(!cb)return stream.emit("error",new Error("no writecb in Transform class"));ts.writechunk=null;ts.writecb=null;if(data!==null&&data!==undefined)stream.push(data);if(cb)cb(er);var rs=stream._readableState;rs.reading=false;if(rs.needReadable||rs.length<rs.highWaterMark){stream._read(rs.highWaterMark)}}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options);var ts=this._transformState=new TransformState(options,this);var stream=this;this._readableState.needReadable=true;this._readableState.sync=false;this.once("finish",function(){if("function"===typeof this._flush)this._flush(function(er){done(stream,er)});else done(stream)})}Transform.prototype.push=function(chunk,encoding){this._transformState.needTransform=false;return Duplex.prototype.push.call(this,chunk,encoding)};Transform.prototype._transform=function(chunk,encoding,cb){throw new Error("not implemented")};Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;ts.writecb=cb;ts.writechunk=chunk;ts.writeencoding=encoding;if(!ts.transforming){var rs=this._readableState;if(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)this._read(rs.highWaterMark)}};Transform.prototype._read=function(n){var ts=this._transformState;if(ts.writechunk!==null&&ts.writecb&&!ts.transforming){ts.transforming=true;this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)}else{ts.needTransform=true}};function done(stream,er){if(er)return stream.emit("error",er);
var ws=stream._writableState;var rs=stream._readableState;var ts=stream._transformState;if(ws.length)throw new Error("calling transform done when ws.length != 0");if(ts.transforming)throw new Error("calling transform done when still transforming");return stream.push(null)}},{"./_stream_duplex":19,"core-util-is":24,inherits:12}],23:[function(_dereq_,module,exports){(function(process){module.exports=Writable;var Buffer=_dereq_("buffer").Buffer;Writable.WritableState=WritableState;var util=_dereq_("core-util-is");util.inherits=_dereq_("inherits");var Stream=_dereq_("stream");util.inherits(Writable,Stream);function WriteReq(chunk,encoding,cb){this.chunk=chunk;this.encoding=encoding;this.callback=cb}function WritableState(options,stream){options=options||{};var hwm=options.highWaterMark;this.highWaterMark=hwm||hwm===0?hwm:16*1024;this.objectMode=!!options.objectMode;this.highWaterMark=~~this.highWaterMark;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;var noDecode=options.decodeStrings===false;this.decodeStrings=!noDecode;this.defaultEncoding=options.defaultEncoding||"utf8";this.length=0;this.writing=false;this.sync=true;this.bufferProcessing=false;this.onwrite=function(er){onwrite(stream,er)};this.writecb=null;this.writelen=0;this.buffer=[];this.errorEmitted=false}function Writable(options){var Duplex=_dereq_("./_stream_duplex");if(!(this instanceof Writable)&&!(this instanceof Duplex))return new Writable(options);this._writableState=new WritableState(options,this);this.writable=true;Stream.call(this)}Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))};function writeAfterEnd(stream,state,cb){var er=new Error("write after end");stream.emit("error",er);process.nextTick(function(){cb(er)})}function validChunk(stream,state,chunk,cb){var valid=true;if(!Buffer.isBuffer(chunk)&&"string"!==typeof chunk&&chunk!==null&&chunk!==undefined&&!state.objectMode){var er=new TypeError("Invalid non-string/buffer chunk");stream.emit("error",er);process.nextTick(function(){cb(er)});valid=false}return valid}Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState;var ret=false;if(typeof encoding==="function"){cb=encoding;encoding=null}if(Buffer.isBuffer(chunk))encoding="buffer";else if(!encoding)encoding=state.defaultEncoding;if(typeof cb!=="function")cb=function(){};if(state.ended)writeAfterEnd(this,state,cb);else if(validChunk(this,state,chunk,cb))ret=writeOrBuffer(this,state,chunk,encoding,cb);return ret};function decodeChunk(state,chunk,encoding){if(!state.objectMode&&state.decodeStrings!==false&&typeof chunk==="string"){chunk=new Buffer(chunk,encoding)}return chunk}function writeOrBuffer(stream,state,chunk,encoding,cb){chunk=decodeChunk(state,chunk,encoding);if(Buffer.isBuffer(chunk))encoding="buffer";var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;if(!ret)state.needDrain=true;if(state.writing)state.buffer.push(new WriteReq(chunk,encoding,cb));else doWrite(stream,state,len,chunk,encoding,cb);return ret}function doWrite(stream,state,len,chunk,encoding,cb){state.writelen=len;state.writecb=cb;state.writing=true;state.sync=true;stream._write(chunk,encoding,state.onwrite);state.sync=false}function onwriteError(stream,state,sync,er,cb){if(sync)process.nextTick(function(){cb(er)});else cb(er);stream._writableState.errorEmitted=true;stream.emit("error",er)}function onwriteStateUpdate(state){state.writing=false;state.writecb=null;state.length-=state.writelen;state.writelen=0}function onwrite(stream,er){var state=stream._writableState;var sync=state.sync;var cb=state.writecb;onwriteStateUpdate(state);if(er)onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(stream,state);if(!finished&&!state.bufferProcessing&&state.buffer.length)clearBuffer(stream,state);if(sync){process.nextTick(function(){afterWrite(stream,state,finished,cb)})}else{afterWrite(stream,state,finished,cb)}}}function afterWrite(stream,state,finished,cb){if(!finished)onwriteDrain(stream,state);cb();if(finished)finishMaybe(stream,state)}function onwriteDrain(stream,state){if(state.length===0&&state.needDrain){state.needDrain=false;stream.emit("drain")}}function clearBuffer(stream,state){state.bufferProcessing=true;for(var c=0;c<state.buffer.length;c++){var entry=state.buffer[c];var chunk=entry.chunk;var encoding=entry.encoding;var cb=entry.callback;var len=state.objectMode?1:chunk.length;doWrite(stream,state,len,chunk,encoding,cb);if(state.writing){c++;break}}state.bufferProcessing=false;if(c<state.buffer.length)state.buffer=state.buffer.slice(c);else state.buffer.length=0}Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("not implemented"))};Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;if(typeof chunk==="function"){cb=chunk;chunk=null;encoding=null}else if(typeof encoding==="function"){cb=encoding;encoding=null}if(typeof chunk!=="undefined"&&chunk!==null)this.write(chunk,encoding);if(!state.ending&&!state.finished)endWritable(this,state,cb)};function needFinish(stream,state){return state.ending&&state.length===0&&!state.finished&&!state.writing}function finishMaybe(stream,state){var need=needFinish(stream,state);if(need){state.finished=true;stream.emit("finish")}return need}function endWritable(stream,state,cb){state.ending=true;finishMaybe(stream,state);if(cb){if(state.finished)process.nextTick(cb);else stream.once("finish",cb)}state.ended=true}}).call(this,_dereq_("FWaASH"))},{"./_stream_duplex":19,FWaASH:13,buffer:3,"core-util-is":24,inherits:12,stream:31}],24:[function(_dereq_,module,exports){(function(Buffer){function isArray(ar){return Array.isArray(ar)}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;function isRegExp(re){return isObject(re)&&objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return isObject(d)&&objectToString(d)==="[object Date]"}exports.isDate=isDate;function isError(e){return isObject(e)&&(objectToString(e)==="[object Error]"||e instanceof Error)}exports.isError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||typeof arg==="undefined"}exports.isPrimitive=isPrimitive;function isBuffer(arg){return Buffer.isBuffer(arg)}exports.isBuffer=isBuffer;function objectToString(o){return Object.prototype.toString.call(o)}}).call(this,_dereq_("buffer").Buffer)},{buffer:3}],25:[function(_dereq_,module,exports){module.exports=Array.isArray||function(arr){return Object.prototype.toString.call(arr)=="[object Array]"}},{}],26:[function(_dereq_,module,exports){var Buffer=_dereq_("buffer").Buffer;var isBufferEncoding=Buffer.isEncoding||function(encoding){switch(encoding&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function assertEncoding(encoding){if(encoding&&!isBufferEncoding(encoding)){throw new Error("Unknown encoding: "+encoding)}}var StringDecoder=exports.StringDecoder=function(encoding){this.encoding=(encoding||"utf8").toLowerCase().replace(/[-_]/,"");assertEncoding(encoding);switch(this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2;this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3;this.detectIncompleteChar=base64DetectIncompleteChar;break;default:this.write=passThroughWrite;return}this.charBuffer=new Buffer(6);this.charReceived=0;this.charLength=0};StringDecoder.prototype.write=function(buffer){var charStr="";while(this.charLength){var available=buffer.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:buffer.length;buffer.copy(this.charBuffer,this.charReceived,0,available);this.charReceived+=available;if(this.charReceived<this.charLength){return""}buffer=buffer.slice(available,buffer.length);charStr=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var charCode=charStr.charCodeAt(charStr.length-1);if(charCode>=55296&&charCode<=56319){this.charLength+=this.surrogateSize;charStr="";continue}this.charReceived=this.charLength=0;if(buffer.length===0){return charStr}break}this.detectIncompleteChar(buffer);var end=buffer.length;if(this.charLength){buffer.copy(this.charBuffer,0,buffer.length-this.charReceived,end);end-=this.charReceived}charStr+=buffer.toString(this.encoding,0,end);var end=charStr.length-1;var charCode=charStr.charCodeAt(end);if(charCode>=55296&&charCode<=56319){var size=this.surrogateSize;this.charLength+=size;this.charReceived+=size;this.charBuffer.copy(this.charBuffer,size,0,size);buffer.copy(this.charBuffer,0,0,size);return charStr.substring(0,end)}return charStr};StringDecoder.prototype.detectIncompleteChar=function(buffer){var i=buffer.length>=3?3:buffer.length;for(;i>0;i--){var c=buffer[buffer.length-i];if(i==1&&c>>5==6){this.charLength=2;break}if(i<=2&&c>>4==14){this.charLength=3;break}if(i<=3&&c>>3==30){this.charLength=4;break}}this.charReceived=i};StringDecoder.prototype.end=function(buffer){var res="";if(buffer&&buffer.length)res=this.write(buffer);if(this.charReceived){var cr=this.charReceived;var buf=this.charBuffer;var enc=this.encoding;res+=buf.slice(0,cr).toString(enc)}return res};function passThroughWrite(buffer){return buffer.toString(this.encoding)}function utf16DetectIncompleteChar(buffer){this.charReceived=buffer.length%2;this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(buffer){this.charReceived=buffer.length%3;this.charLength=this.charReceived?3:0}},{buffer:3}],27:[function(_dereq_,module,exports){module.exports=_dereq_("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":20}],28:[function(_dereq_,module,exports){exports=module.exports=_dereq_("./lib/_stream_readable.js");exports.Readable=exports;exports.Writable=_dereq_("./lib/_stream_writable.js");exports.Duplex=_dereq_("./lib/_stream_duplex.js");exports.Transform=_dereq_("./lib/_stream_transform.js");exports.PassThrough=_dereq_("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":19,"./lib/_stream_passthrough.js":20,"./lib/_stream_readable.js":21,"./lib/_stream_transform.js":22,"./lib/_stream_writable.js":23}],29:[function(_dereq_,module,exports){module.exports=_dereq_("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":22}],30:[function(_dereq_,module,exports){module.exports=_dereq_("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":23}],31:[function(_dereq_,module,exports){module.exports=Stream;var EE=_dereq_("events").EventEmitter;var inherits=_dereq_("inherits");inherits(Stream,EE);Stream.Readable=_dereq_("readable-stream/readable.js");Stream.Writable=_dereq_("readable-stream/writable.js");Stream.Duplex=_dereq_("readable-stream/duplex.js");Stream.Transform=_dereq_("readable-stream/transform.js");Stream.PassThrough=_dereq_("readable-stream/passthrough.js");Stream.Stream=Stream;function Stream(){EE.call(this)}Stream.prototype.pipe=function(dest,options){var source=this;function ondata(chunk){if(dest.writable){if(false===dest.write(chunk)&&source.pause){source.pause()}}}source.on("data",ondata);function ondrain(){if(source.readable&&source.resume){source.resume()}}dest.on("drain",ondrain);if(!dest._isStdio&&(!options||options.end!==false)){source.on("end",onend);source.on("close",onclose)}var didOnEnd=false;function onend(){if(didOnEnd)return;didOnEnd=true;dest.end()}function onclose(){if(didOnEnd)return;didOnEnd=true;if(typeof dest.destroy==="function")dest.destroy()}function onerror(er){cleanup();if(EE.listenerCount(this,"error")===0){throw er}}source.on("error",onerror);dest.on("error",onerror);function cleanup(){source.removeListener("data",ondata);dest.removeListener("drain",ondrain);source.removeListener("end",onend);source.removeListener("close",onclose);source.removeListener("error",onerror);dest.removeListener("error",onerror);source.removeListener("end",cleanup);source.removeListener("close",cleanup);dest.removeListener("close",cleanup)}source.on("end",cleanup);source.on("close",cleanup);dest.on("close",cleanup);dest.emit("pipe",source);return dest}},{events:7,inherits:12,"readable-stream/duplex.js":18,"readable-stream/passthrough.js":27,"readable-stream/readable.js":28,"readable-stream/transform.js":29,"readable-stream/writable.js":30}],32:[function(_dereq_,module,exports){var punycode=_dereq_("punycode");exports.parse=urlParse;exports.resolve=urlResolve;exports.resolveObject=urlResolveObject;exports.format=urlFormat;exports.Url=Url;function Url(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,delims=["<",">",'"',"`"," ","\r","\n","	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:true,"javascript:":true},hostlessProtocol={javascript:true,"javascript:":true},slashedProtocol={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},querystring=_dereq_("querystring");function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&isObject(url)&&url instanceof Url)return url;var u=new Url;u.parse(url,parseQueryString,slashesDenoteHost);return u}Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!isString(url)){throw new TypeError("Parameter 'url' must be a string, not "+typeof url)}var rest=url;rest=rest.trim();var proto=protocolPattern.exec(rest);if(proto){proto=proto[0];var lowerProto=proto.toLowerCase();this.protocol=lowerProto;rest=rest.substr(proto.length)}if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes=rest.substr(0,2)==="//";if(slashes&&!(proto&&hostlessProtocol[proto])){rest=rest.substr(2);this.slashes=true}}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){var hostEnd=-1;for(var i=0;i<hostEndingChars.length;i++){var hec=rest.indexOf(hostEndingChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))hostEnd=hec}var auth,atSign;if(hostEnd===-1){atSign=rest.lastIndexOf("@")}else{atSign=rest.lastIndexOf("@",hostEnd)}if(atSign!==-1){auth=rest.slice(0,atSign);rest=rest.slice(atSign+1);this.auth=decodeURIComponent(auth)}hostEnd=-1;for(var i=0;i<nonHostChars.length;i++){var hec=rest.indexOf(nonHostChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))hostEnd=hec}if(hostEnd===-1)hostEnd=rest.length;this.host=rest.slice(0,hostEnd);rest=rest.slice(hostEnd);this.parseHost();this.hostname=this.hostname||"";var ipv6Hostname=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ipv6Hostname){var hostparts=this.hostname.split(/\./);for(var i=0,l=hostparts.length;i<l;i++){var part=hostparts[i];if(!part)continue;if(!part.match(hostnamePartPattern)){var newpart="";for(var j=0,k=part.length;j<k;j++){if(part.charCodeAt(j)>127){newpart+="x"}else{newpart+=part[j]}}if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i);var notHost=hostparts.slice(i+1);var bit=part.match(hostnamePartStart);if(bit){validParts.push(bit[1]);notHost.unshift(bit[2])}if(notHost.length){rest="/"+notHost.join(".")+rest}this.hostname=validParts.join(".");break}}}}if(this.hostname.length>hostnameMaxLen){this.hostname=""}else{this.hostname=this.hostname.toLowerCase()}if(!ipv6Hostname){var domainArray=this.hostname.split(".");var newOut=[];for(var i=0;i<domainArray.length;++i){var s=domainArray[i];newOut.push(s.match(/[^A-Za-z0-9_-]/)?"xn--"+punycode.encode(s):s)}this.hostname=newOut.join(".")}var p=this.port?":"+this.port:"";var h=this.hostname||"";this.host=h+p;this.href+=this.host;if(ipv6Hostname){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(rest[0]!=="/"){rest="/"+rest}}}if(!unsafeProtocol[lowerProto]){for(var i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i];var esc=encodeURIComponent(ae);if(esc===ae){esc=escape(ae)}rest=rest.split(ae).join(esc)}}var hash=rest.indexOf("#");if(hash!==-1){this.hash=rest.substr(hash);rest=rest.slice(0,hash)}var qm=rest.indexOf("?");if(qm!==-1){this.search=rest.substr(qm);this.query=rest.substr(qm+1);if(parseQueryString){this.query=querystring.parse(this.query)}rest=rest.slice(0,qm)}else if(parseQueryString){this.search="";this.query={}}if(rest)this.pathname=rest;if(slashedProtocol[lowerProto]&&this.hostname&&!this.pathname){this.pathname="/"}if(this.pathname||this.search){var p=this.pathname||"";var s=this.search||"";this.path=p+s}this.href=this.format();return this};function urlFormat(obj){if(isString(obj))obj=urlParse(obj);if(!(obj instanceof Url))return Url.prototype.format.call(obj);return obj.format()}Url.prototype.format=function(){var auth=this.auth||"";if(auth){auth=encodeURIComponent(auth);auth=auth.replace(/%3A/i,":");auth+="@"}var protocol=this.protocol||"",pathname=this.pathname||"",hash=this.hash||"",host=false,query="";if(this.host){host=auth+this.host}else if(this.hostname){host=auth+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){host+=":"+this.port}}if(this.query&&isObject(this.query)&&Object.keys(this.query).length){query=querystring.stringify(this.query)}var search=this.search||query&&"?"+query||"";if(protocol&&protocol.substr(-1)!==":")protocol+=":";if(this.slashes||(!protocol||slashedProtocol[protocol])&&host!==false){host="//"+(host||"");if(pathname&&pathname.charAt(0)!=="/")pathname="/"+pathname}else if(!host){host=""}if(hash&&hash.charAt(0)!=="#")hash="#"+hash;if(search&&search.charAt(0)!=="?")search="?"+search;pathname=pathname.replace(/[?#]/g,function(match){return encodeURIComponent(match)});search=search.replace("#","%23");return protocol+host+pathname+search+hash};function urlResolve(source,relative){return urlParse(source,false,true).resolve(relative)}Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,false,true)).format()};function urlResolveObject(source,relative){if(!source)return relative;return urlParse(source,false,true).resolveObject(relative)}Url.prototype.resolveObject=function(relative){if(isString(relative)){var rel=new Url;rel.parse(relative,false,true);relative=rel}var result=new Url;Object.keys(this).forEach(function(k){result[k]=this[k]},this);result.hash=relative.hash;if(relative.href===""){result.href=result.format();return result}if(relative.slashes&&!relative.protocol){Object.keys(relative).forEach(function(k){if(k!=="protocol")result[k]=relative[k]});if(slashedProtocol[result.protocol]&&result.hostname&&!result.pathname){result.path=result.pathname="/"}result.href=result.format();return result}if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol]){Object.keys(relative).forEach(function(k){result[k]=relative[k]});result.href=result.format();return result}result.protocol=relative.protocol;if(!relative.host&&!hostlessProtocol[relative.protocol]){var relPath=(relative.pathname||"").split("/");while(relPath.length&&!(relative.host=relPath.shift()));if(!relative.host)relative.host="";if(!relative.hostname)relative.hostname="";if(relPath[0]!=="")relPath.unshift("");if(relPath.length<2)relPath.unshift("");result.pathname=relPath.join("/")}else{result.pathname=relative.pathname}result.search=relative.search;result.query=relative.query;result.host=relative.host||"";result.auth=relative.auth;result.hostname=relative.hostname||relative.host;result.port=relative.port;if(result.pathname||result.search){var p=result.pathname||"";var s=result.search||"";result.path=p+s}result.slashes=result.slashes||relative.slashes;result.href=result.format();return result}var isSourceAbs=result.pathname&&result.pathname.charAt(0)==="/",isRelAbs=relative.host||relative.pathname&&relative.pathname.charAt(0)==="/",mustEndAbs=isRelAbs||isSourceAbs||result.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split("/")||[],relPath=relative.pathname&&relative.pathname.split("/")||[],psychotic=result.protocol&&!slashedProtocol[result.protocol];if(psychotic){result.hostname="";result.port=null;if(result.host){if(srcPath[0]==="")srcPath[0]=result.host;else srcPath.unshift(result.host)}result.host="";if(relative.protocol){relative.hostname=null;relative.port=null;if(relative.host){if(relPath[0]==="")relPath[0]=relative.host;else relPath.unshift(relative.host)}relative.host=null}mustEndAbs=mustEndAbs&&(relPath[0]===""||srcPath[0]==="")}if(isRelAbs){result.host=relative.host||relative.host===""?relative.host:result.host;result.hostname=relative.hostname||relative.hostname===""?relative.hostname:result.hostname;result.search=relative.search;result.query=relative.query;srcPath=relPath}else if(relPath.length){if(!srcPath)srcPath=[];srcPath.pop();srcPath=srcPath.concat(relPath);result.search=relative.search;result.query=relative.query}else if(!isNullOrUndefined(relative.search)){if(psychotic){result.hostname=result.host=srcPath.shift();var authInHost=result.host&&result.host.indexOf("@")>0?result.host.split("@"):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift()}}result.search=relative.search;result.query=relative.query;if(!isNull(result.pathname)||!isNull(result.search)){result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")}result.href=result.format();return result}if(!srcPath.length){result.pathname=null;if(result.search){result.path="/"+result.search}else{result.path=null}result.href=result.format();return result}var last=srcPath.slice(-1)[0];var hasTrailingSlash=(result.host||relative.host)&&(last==="."||last==="..")||last==="";var up=0;for(var i=srcPath.length;i>=0;i--){last=srcPath[i];if(last=="."){srcPath.splice(i,1)}else if(last===".."){srcPath.splice(i,1);up++}else if(up){srcPath.splice(i,1);up--}}if(!mustEndAbs&&!removeAllDots){for(;up--;up){srcPath.unshift("..")}}if(mustEndAbs&&srcPath[0]!==""&&(!srcPath[0]||srcPath[0].charAt(0)!=="/")){srcPath.unshift("")}if(hasTrailingSlash&&srcPath.join("/").substr(-1)!=="/"){srcPath.push("")}var isAbsolute=srcPath[0]===""||srcPath[0]&&srcPath[0].charAt(0)==="/";if(psychotic){result.hostname=result.host=isAbsolute?"":srcPath.length?srcPath.shift():"";var authInHost=result.host&&result.host.indexOf("@")>0?result.host.split("@"):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift()}}mustEndAbs=mustEndAbs||result.host&&srcPath.length;if(mustEndAbs&&!isAbsolute){srcPath.unshift("")}if(!srcPath.length){result.pathname=null;result.path=null}else{result.pathname=srcPath.join("/")}if(!isNull(result.pathname)||!isNull(result.search)){result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")}result.auth=relative.auth||result.auth;result.slashes=result.slashes||relative.slashes;result.href=result.format();return result};Url.prototype.parseHost=function(){var host=this.host;var port=portPattern.exec(host);if(port){port=port[0];if(port!==":"){this.port=port.substr(1)}host=host.substr(0,host.length-port.length)}if(host)this.hostname=host};function isString(arg){return typeof arg==="string"}function isObject(arg){return typeof arg==="object"&&arg!==null}function isNull(arg){return arg===null}function isNullOrUndefined(arg){return arg==null}},{punycode:14,querystring:17}],33:[function(_dereq_,module,exports){module.exports=function isBuffer(arg){return arg&&typeof arg==="object"&&typeof arg.copy==="function"&&typeof arg.fill==="function"&&typeof arg.readUInt8==="function"}},{}],34:[function(_dereq_,module,exports){(function(process,global){var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){var objects=[];for(var i=0;i<arguments.length;i++){objects.push(inspect(arguments[i]))}return objects.join(" ")}var i=1;var args=arguments;var len=args.length;var str=String(f).replace(formatRegExp,function(x){if(x==="%%")return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}});for(var x=args[i];i<len;x=args[++i]){if(isNull(x)||!isObject(x)){str+=" "+x}else{str+=" "+inspect(x)}}return str};exports.deprecate=function(fn,msg){if(isUndefined(global.process)){return function(){return exports.deprecate(fn,msg).apply(this,arguments)}}if(process.noDeprecation===true){return fn}var warned=false;function deprecated(){if(!warned){if(process.throwDeprecation){throw new Error(msg)}else if(process.traceDeprecation){console.trace(msg)}else{console.error(msg)}warned=true}return fn.apply(this,arguments)}return deprecated};var debugs={};var debugEnviron;exports.debuglog=function(set){if(isUndefined(debugEnviron))debugEnviron=process.env.NODE_DEBUG||"";set=set.toUpperCase();if(!debugs[set]){if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else{debugs[set]=function(){}}}return debugs[set]};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};if(arguments.length>=3)ctx.depth=arguments[2];if(arguments.length>=4)ctx.colors=arguments[3];if(isBoolean(opts)){ctx.showHidden=opts}else if(opts){exports._extend(ctx,opts)}if(isUndefined(ctx.showHidden))ctx.showHidden=false;if(isUndefined(ctx.depth))ctx.depth=2;if(isUndefined(ctx.colors))ctx.colors=false;if(isUndefined(ctx.customInspect))ctx.customInspect=true;if(ctx.colors)ctx.stylize=stylizeWithColor;return formatValue(ctx,obj,ctx.depth)}exports.inspect=inspect;inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];if(style){return"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m"}else{return str}}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};array.forEach(function(val,idx){hash[val]=true});return hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&!(value.constructor&&value.constructor.prototype===value)){var ret=value.inspect(recurseTimes,ctx);if(!isString(ret)){ret=formatValue(ctx,ret,recurseTimes)}return ret}var primitive=formatPrimitive(ctx,value);if(primitive){return primitive}var keys=Object.keys(value);var visibleKeys=arrayToHash(keys);if(ctx.showHidden){keys=Object.getOwnPropertyNames(value)}if(isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0)){return formatError(value)}if(keys.length===0){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}if(isDate(value)){return ctx.stylize(Date.prototype.toString.call(value),"date")}if(isError(value)){return formatError(value)}}var base="",array=false,braces=["{","}"];if(isArray(value)){array=true;braces=["[","]"]}if(isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)){base=" "+RegExp.prototype.toString.call(value)}if(isDate(value)){base=" "+Date.prototype.toUTCString.call(value)}if(isError(value)){base=" "+formatError(value)}if(keys.length===0&&(!array||value.length==0)){return braces[0]+base+braces[1]}if(recurseTimes<0){if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}else{return ctx.stylize("[Object]","special")}}ctx.seen.push(value);var output;if(array){output=formatArray(ctx,value,recurseTimes,visibleKeys,keys)}else{output=keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)})}ctx.seen.pop();return reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+value,"boolean");if(isNull(value))return ctx.stylize("null","null")}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){var output=[];for(var i=0,l=value.length;i<l;++i){if(hasOwnProperty(value,String(i))){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),true))}else{output.push("")}}keys.forEach(function(key){if(!key.match(/^\d+$/)){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,true))}});return output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]};if(desc.get){if(desc.set){str=ctx.stylize("[Getter/Setter]","special")}else{str=ctx.stylize("[Getter]","special")}}else{if(desc.set){str=ctx.stylize("[Setter]","special")}}if(!hasOwnProperty(visibleKeys,key)){name="["+key+"]"}if(!str){if(ctx.seen.indexOf(desc.value)<0){if(isNull(recurseTimes)){str=formatValue(ctx,desc.value,null)}else{str=formatValue(ctx,desc.value,recurseTimes-1)}if(str.indexOf("\n")>-1){if(array){str=str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2)}else{str="\n"+str.split("\n").map(function(line){return"   "+line}).join("\n")}}}else{str=ctx.stylize("[Circular]","special")}}if(isUndefined(name)){if(array&&key.match(/^\d+$/)){return str}name=JSON.stringify(""+key);if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){name=name.substr(1,name.length-2);name=ctx.stylize(name,"name")}else{name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");name=ctx.stylize(name,"string")}}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0;var length=output.reduce(function(prev,cur){numLinesEst++;if(cur.indexOf("\n")>=0)numLinesEst++;return prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(length>60){return braces[0]+(base===""?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]}return braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;
function isRegExp(re){return isObject(re)&&objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return isObject(d)&&objectToString(d)==="[object Date]"}exports.isDate=isDate;function isError(e){return isObject(e)&&(objectToString(e)==="[object Error]"||e instanceof Error)}exports.isError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||typeof arg==="undefined"}exports.isPrimitive=isPrimitive;exports.isBuffer=_dereq_("./support/isBuffer");function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var d=new Date;var time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))};exports.inherits=_dereq_("inherits");exports._extend=function(origin,add){if(!add||!isObject(add))return origin;var keys=Object.keys(add);var i=keys.length;while(i--){origin[keys[i]]=add[keys[i]]}return origin};function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}}).call(this,_dereq_("FWaASH"),typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":33,FWaASH:13,inherits:12}],35:[function(_dereq_,module,exports){(function(){var Asset,BufferSource,Decoder,Demuxer,EventEmitter,FileSource,HTTPSource,__bind=function(fn,me){return function(){return fn.apply(me,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};EventEmitter=_dereq_("./core/events");HTTPSource=_dereq_("./sources/node/http");FileSource=_dereq_("./sources/node/file");BufferSource=_dereq_("./sources/buffer");Demuxer=_dereq_("./demuxer");Decoder=_dereq_("./decoder");Asset=function(_super){__extends(Asset,_super);function Asset(source){this.source=source;this._decode=__bind(this._decode,this);this.findDecoder=__bind(this.findDecoder,this);this.probe=__bind(this.probe,this);this.buffered=0;this.duration=null;this.format=null;this.metadata=null;this.active=false;this.demuxer=null;this.decoder=null;this.source.once("data",this.probe);this.source.on("error",function(_this){return function(err){_this.emit("error",err);return _this.stop()}}(this));this.source.on("progress",function(_this){return function(buffered){_this.buffered=buffered;return _this.emit("buffer",_this.buffered)}}(this))}Asset.fromURL=function(url){return new Asset(new HTTPSource(url))};Asset.fromFile=function(file){return new Asset(new FileSource(file))};Asset.fromBuffer=function(buffer){return new Asset(new BufferSource(buffer))};Asset.prototype.start=function(decode){if(this.active){return}if(decode!=null){this.shouldDecode=decode}if(this.shouldDecode==null){this.shouldDecode=true}this.active=true;this.source.start();if(this.decoder&&this.shouldDecode){return this._decode()}};Asset.prototype.stop=function(){if(!this.active){return}this.active=false;return this.source.pause()};Asset.prototype.get=function(event,callback){if(event!=="format"&&event!=="duration"&&event!=="metadata"){return}if(this[event]!=null){return callback(this[event])}else{this.once(event,function(_this){return function(value){_this.stop();return callback(value)}}(this));return this.start()}};Asset.prototype.decodePacket=function(){return this.decoder.decode()};Asset.prototype.decodeToBuffer=function(callback){var chunks,dataHandler,length;length=0;chunks=[];this.on("data",dataHandler=function(chunk){length+=chunk.length;return chunks.push(chunk)});this.once("end",function(){var buf,chunk,offset,_i,_len;buf=new Float32Array(length);offset=0;for(_i=0,_len=chunks.length;_i<_len;_i++){chunk=chunks[_i];buf.set(chunk,offset);offset+=chunk.length}this.off("data",dataHandler);return callback(buf)});return this.start()};Asset.prototype.probe=function(chunk){var demuxer;if(!this.active){return}demuxer=Demuxer.find(chunk);if(!demuxer){return this.emit("error","A demuxer for this container was not found.")}this.demuxer=new demuxer(this.source,chunk);this.demuxer.on("format",this.findDecoder);this.demuxer.on("duration",function(_this){return function(duration){_this.duration=duration;return _this.emit("duration",_this.duration)}}(this));this.demuxer.on("metadata",function(_this){return function(metadata){_this.metadata=metadata;return _this.emit("metadata",_this.metadata)}}(this));return this.demuxer.on("error",function(_this){return function(err){_this.emit("error",err);return _this.stop()}}(this))};Asset.prototype.findDecoder=function(format){var decoder,div;this.format=format;if(!this.active){return}this.emit("format",this.format);decoder=Decoder.find(this.format.formatID);if(!decoder){return this.emit("error","A decoder for "+this.format.formatID+" was not found.")}this.decoder=new decoder(this.demuxer,this.format);if(this.format.floatingPoint){this.decoder.on("data",function(_this){return function(buffer){return _this.emit("data",buffer)}}(this))}else{div=Math.pow(2,this.format.bitsPerChannel-1);this.decoder.on("data",function(_this){return function(buffer){var buf,i,sample,_i,_len;buf=new Float32Array(buffer.length);for(i=_i=0,_len=buffer.length;_i<_len;i=++_i){sample=buffer[i];buf[i]=sample/div}return _this.emit("data",buf)}}(this))}this.decoder.on("error",function(_this){return function(err){_this.emit("error",err);return _this.stop()}}(this));this.decoder.on("end",function(_this){return function(){return _this.emit("end")}}(this));this.emit("decodeStart");if(this.shouldDecode){return this._decode()}};Asset.prototype._decode=function(){while(this.decoder.decode()&&this.active){continue}if(this.active){return this.decoder.once("data",this._decode)}};return Asset}(EventEmitter);module.exports=Asset}).call(this)},{"./core/events":41,"./decoder":44,"./demuxer":45,"./sources/buffer":55,"./sources/node/file":56,"./sources/node/http":57}],36:[function(_dereq_,module,exports){(function(){exports.Base=_dereq_("./core/base");exports.Buffer=_dereq_("./core/buffer");exports.BufferList=_dereq_("./core/bufferlist");exports.Stream=_dereq_("./core/stream");exports.Bitstream=_dereq_("./core/bitstream");exports.EventEmitter=_dereq_("./core/events");exports.UnderflowError=_dereq_("./core/underflow");exports.HTTPSource=_dereq_("./sources/node/http");exports.FileSource=_dereq_("./sources/node/file");exports.BufferSource=_dereq_("./sources/buffer");exports.Demuxer=_dereq_("./demuxer");exports.Decoder=_dereq_("./decoder");exports.AudioDevice=_dereq_("./device");exports.Asset=_dereq_("./asset");exports.Player=_dereq_("./player");exports.Filter=_dereq_("./filter");exports.VolumeFilter=_dereq_("./filters/volume");exports.BalanceFilter=_dereq_("./filters/balance")}).call(this)},{"./asset":35,"./core/base":37,"./core/bitstream":38,"./core/buffer":39,"./core/bufferlist":40,"./core/events":41,"./core/stream":42,"./core/underflow":43,"./decoder":44,"./demuxer":45,"./device":46,"./filter":50,"./filters/balance":51,"./filters/volume":52,"./player":53,"./sources/buffer":55,"./sources/node/file":56,"./sources/node/http":57}],37:[function(_dereq_,module,exports){(function(){var Base,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child},__indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++){if(i in this&&this[i]===item)return i}return-1};Base=function(){var fnTest;function Base(){}fnTest=/\b_super\b/;Base.extend=function(prop){var Class,fn,key,keys,_ref,_super;Class=function(_super){__extends(Class,_super);function Class(){return Class.__super__.constructor.apply(this,arguments)}return Class}(this);if(typeof prop==="function"){keys=Object.keys(Class.prototype);prop.call(Class,Class);prop={};_ref=Class.prototype;for(key in _ref){fn=_ref[key];if(__indexOf.call(keys,key)<0){prop[key]=fn}}}_super=Class.__super__;for(key in prop){fn=prop[key];if(typeof fn==="function"&&fnTest.test(fn)){(function(key,fn){return Class.prototype[key]=function(){var ret,tmp;tmp=this._super;this._super=_super[key];ret=fn.apply(this,arguments);this._super=tmp;return ret}})(key,fn)}else{Class.prototype[key]=fn}}return Class};return Base}();module.exports=Base}).call(this)},{}],38:[function(_dereq_,module,exports){(function(){var Bitstream;Bitstream=function(){function Bitstream(stream){this.stream=stream;this.bitPosition=0}Bitstream.prototype.copy=function(){var result;result=new Bitstream(this.stream.copy());result.bitPosition=this.bitPosition;return result};Bitstream.prototype.offset=function(){return 8*this.stream.offset+this.bitPosition};Bitstream.prototype.available=function(bits){return this.stream.available((bits+8-this.bitPosition)/8)};Bitstream.prototype.advance=function(bits){var pos;pos=this.bitPosition+bits;this.stream.advance(pos>>3);return this.bitPosition=pos&7};Bitstream.prototype.rewind=function(bits){var pos;pos=this.bitPosition-bits;this.stream.rewind(Math.abs(pos>>3));return this.bitPosition=pos&7};Bitstream.prototype.seek=function(offset){var curOffset;curOffset=this.offset();if(offset>curOffset){return this.advance(offset-curOffset)}else if(offset<curOffset){return this.rewind(curOffset-offset)}};Bitstream.prototype.align=function(){if(this.bitPosition!==0){this.bitPosition=0;return this.stream.advance(1)}};Bitstream.prototype.read=function(bits,signed){var a,a0,a1,a2,a3,a4,mBits;if(bits===0){return 0}mBits=bits+this.bitPosition;if(mBits<=8){a=(this.stream.peekUInt8()<<this.bitPosition&255)>>>8-bits}else if(mBits<=16){a=(this.stream.peekUInt16()<<this.bitPosition&65535)>>>16-bits}else if(mBits<=24){a=(this.stream.peekUInt24()<<this.bitPosition&16777215)>>>24-bits}else if(mBits<=32){a=this.stream.peekUInt32()<<this.bitPosition>>>32-bits}else if(mBits<=40){a0=this.stream.peekUInt8(0)*4294967296;a1=this.stream.peekUInt8(1)<<24>>>0;a2=this.stream.peekUInt8(2)<<16;a3=this.stream.peekUInt8(3)<<8;a4=this.stream.peekUInt8(4);a=a0+a1+a2+a3+a4;a%=Math.pow(2,40-this.bitPosition);a=Math.floor(a/Math.pow(2,40-this.bitPosition-bits))}else{throw new Error("Too many bits!")}if(signed){if(mBits<32){if(a>>>bits-1){a=((1<<bits>>>0)-a)*-1}}else{if(a/Math.pow(2,bits-1)|0){a=(Math.pow(2,bits)-a)*-1}}}this.advance(bits);return a};Bitstream.prototype.peek=function(bits,signed){var a,a0,a1,a2,a3,a4,mBits;if(bits===0){return 0}mBits=bits+this.bitPosition;if(mBits<=8){a=(this.stream.peekUInt8()<<this.bitPosition&255)>>>8-bits}else if(mBits<=16){a=(this.stream.peekUInt16()<<this.bitPosition&65535)>>>16-bits}else if(mBits<=24){a=(this.stream.peekUInt24()<<this.bitPosition&16777215)>>>24-bits}else if(mBits<=32){a=this.stream.peekUInt32()<<this.bitPosition>>>32-bits}else if(mBits<=40){a0=this.stream.peekUInt8(0)*4294967296;a1=this.stream.peekUInt8(1)<<24>>>0;a2=this.stream.peekUInt8(2)<<16;a3=this.stream.peekUInt8(3)<<8;a4=this.stream.peekUInt8(4);a=a0+a1+a2+a3+a4;a%=Math.pow(2,40-this.bitPosition);a=Math.floor(a/Math.pow(2,40-this.bitPosition-bits))}else{throw new Error("Too many bits!")}if(signed){if(mBits<32){if(a>>>bits-1){a=((1<<bits>>>0)-a)*-1}}else{if(a/Math.pow(2,bits-1)|0){a=(Math.pow(2,bits)-a)*-1}}}return a};Bitstream.prototype.readLSB=function(bits,signed){var a,mBits;if(bits===0){return 0}if(bits>40){throw new Error("Too many bits!")}mBits=bits+this.bitPosition;a=this.stream.peekUInt8(0)>>>this.bitPosition;if(mBits>8){a|=this.stream.peekUInt8(1)<<8-this.bitPosition}if(mBits>16){a|=this.stream.peekUInt8(2)<<16-this.bitPosition}if(mBits>24){a+=this.stream.peekUInt8(3)<<24-this.bitPosition>>>0}if(mBits>32){a+=this.stream.peekUInt8(4)*Math.pow(2,32-this.bitPosition)}if(mBits>=32){a%=Math.pow(2,bits)}else{a&=(1<<bits)-1}if(signed){if(mBits<32){if(a>>>bits-1){a=((1<<bits>>>0)-a)*-1}}else{if(a/Math.pow(2,bits-1)|0){a=(Math.pow(2,bits)-a)*-1}}}this.advance(bits);return a};Bitstream.prototype.peekLSB=function(bits,signed){var a,mBits;if(bits===0){return 0}if(bits>40){throw new Error("Too many bits!")}mBits=bits+this.bitPosition;a=this.stream.peekUInt8(0)>>>this.bitPosition;if(mBits>8){a|=this.stream.peekUInt8(1)<<8-this.bitPosition}if(mBits>16){a|=this.stream.peekUInt8(2)<<16-this.bitPosition}if(mBits>24){a+=this.stream.peekUInt8(3)<<24-this.bitPosition>>>0}if(mBits>32){a+=this.stream.peekUInt8(4)*Math.pow(2,32-this.bitPosition)}if(mBits>=32){a%=Math.pow(2,bits)}else{a&=(1<<bits)-1}if(signed){if(mBits<32){if(a>>>bits-1){a=((1<<bits>>>0)-a)*-1}}else{if(a/Math.pow(2,bits-1)|0){a=(Math.pow(2,bits)-a)*-1}}}return a};return Bitstream}();module.exports=Bitstream}).call(this)},{}],39:[function(_dereq_,module,exports){(function(global){(function(){var AVBuffer;AVBuffer=function(){var BlobBuilder,URL;function AVBuffer(input){var _ref;if(input instanceof Uint8Array){this.data=input}else if(input instanceof ArrayBuffer||Array.isArray(input)||typeof input==="number"||((_ref=global.Buffer)!=null?_ref.isBuffer(input):void 0)){this.data=new Uint8Array(input)}else if(input.buffer instanceof ArrayBuffer){this.data=new Uint8Array(input.buffer,input.byteOffset,input.length*input.BYTES_PER_ELEMENT)}else if(input instanceof AVBuffer){this.data=input.data}else{throw new Error("Constructing buffer with unknown type.")}this.length=this.data.length;this.next=null;this.prev=null}AVBuffer.allocate=function(size){return new AVBuffer(size)};AVBuffer.prototype.copy=function(){return new AVBuffer(new Uint8Array(this.data))};AVBuffer.prototype.slice=function(position,length){if(length==null){length=this.length}if(position===0&&length>=this.length){return new AVBuffer(this.data)}else{return new AVBuffer(this.data.subarray(position,position+length))}};BlobBuilder=global.BlobBuilder||global.MozBlobBuilder||global.WebKitBlobBuilder;URL=global.URL||global.webkitURL||global.mozURL;AVBuffer.makeBlob=function(data,type){var bb;if(type==null){type="application/octet-stream"}try{return new Blob([data],{type:type})}catch(_error){}if(BlobBuilder!=null){bb=new BlobBuilder;bb.append(data);return bb.getBlob(type)}return null};AVBuffer.makeBlobURL=function(data,type){return URL!=null?URL.createObjectURL(this.makeBlob(data,type)):void 0};AVBuffer.revokeBlobURL=function(url){return URL!=null?URL.revokeObjectURL(url):void 0};AVBuffer.prototype.toBlob=function(){return AVBuffer.makeBlob(this.data.buffer)};AVBuffer.prototype.toBlobURL=function(){return AVBuffer.makeBlobURL(this.data.buffer)};return AVBuffer}();module.exports=AVBuffer}).call(this)}).call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],40:[function(_dereq_,module,exports){(function(){var BufferList;BufferList=function(){function BufferList(){this.first=null;this.last=null;this.numBuffers=0;this.availableBytes=0;this.availableBuffers=0}BufferList.prototype.copy=function(){var result;result=new BufferList;result.first=this.first;result.last=this.last;result.numBuffers=this.numBuffers;result.availableBytes=this.availableBytes;result.availableBuffers=this.availableBuffers;return result};BufferList.prototype.append=function(buffer){var _ref;buffer.prev=this.last;if((_ref=this.last)!=null){_ref.next=buffer}this.last=buffer;if(this.first==null){this.first=buffer}this.availableBytes+=buffer.length;this.availableBuffers++;return this.numBuffers++};BufferList.prototype.advance=function(){if(this.first){this.availableBytes-=this.first.length;this.availableBuffers--;this.first=this.first.next;return this.first!=null}return false};BufferList.prototype.rewind=function(){var _ref;if(this.first&&!this.first.prev){return false}this.first=((_ref=this.first)!=null?_ref.prev:void 0)||this.last;if(this.first){this.availableBytes+=this.first.length;this.availableBuffers++}return this.first!=null};BufferList.prototype.reset=function(){var _results;_results=[];while(this.rewind()){continue}return _results};return BufferList}();module.exports=BufferList}).call(this)},{}],41:[function(_dereq_,module,exports){(function(){var Base,EventEmitter,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child},__slice=[].slice;Base=_dereq_("./base");EventEmitter=function(_super){__extends(EventEmitter,_super);function EventEmitter(){return EventEmitter.__super__.constructor.apply(this,arguments)}EventEmitter.prototype.on=function(event,fn){var _base;if(this.events==null){this.events={}}if((_base=this.events)[event]==null){_base[event]=[]}return this.events[event].push(fn)};EventEmitter.prototype.off=function(event,fn){var index,_ref;if(!((_ref=this.events)!=null?_ref[event]:void 0)){return}index=this.events[event].indexOf(fn);if(~index){return this.events[event].splice(index,1)}};EventEmitter.prototype.once=function(event,fn){var cb;return this.on(event,cb=function(){this.off(event,cb);return fn.apply(this,arguments)})};EventEmitter.prototype.emit=function(){var args,event,fn,_i,_len,_ref,_ref1;event=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[];if(!((_ref=this.events)!=null?_ref[event]:void 0)){return}_ref1=this.events[event].slice();for(_i=0,_len=_ref1.length;_i<_len;_i++){fn=_ref1[_i];fn.apply(this,args)}};return EventEmitter}(Base);module.exports=EventEmitter}).call(this)},{"./base":37}],42:[function(_dereq_,module,exports){(function(){var AVBuffer,BufferList,Stream,UnderflowError;BufferList=_dereq_("./bufferlist");AVBuffer=_dereq_("./buffer");UnderflowError=_dereq_("./underflow");Stream=function(){var buf,decodeString,float32,float64,float64Fallback,float80,int16,int32,int8,nativeEndian,uint16,uint32,uint8;buf=new ArrayBuffer(16);uint8=new Uint8Array(buf);int8=new Int8Array(buf);uint16=new Uint16Array(buf);int16=new Int16Array(buf);uint32=new Uint32Array(buf);int32=new Int32Array(buf);float32=new Float32Array(buf);if(typeof Float64Array!=="undefined"&&Float64Array!==null){float64=new Float64Array(buf)}nativeEndian=new Uint16Array(new Uint8Array([18,52]).buffer)[0]===13330;function Stream(list){this.list=list;this.localOffset=0;this.offset=0}Stream.fromBuffer=function(buffer){var list;list=new BufferList;list.append(buffer);return new Stream(list)};Stream.prototype.copy=function(){var result;result=new Stream(this.list.copy());result.localOffset=this.localOffset;result.offset=this.offset;return result};Stream.prototype.available=function(bytes){return bytes<=this.list.availableBytes-this.localOffset};Stream.prototype.remainingBytes=function(){return this.list.availableBytes-this.localOffset};Stream.prototype.advance=function(bytes){if(!this.available(bytes)){throw new UnderflowError}this.localOffset+=bytes;this.offset+=bytes;while(this.list.first&&this.localOffset>=this.list.first.length){this.localOffset-=this.list.first.length;this.list.advance()}return this};Stream.prototype.rewind=function(bytes){if(bytes>this.offset){throw new UnderflowError}if(!this.list.first){this.list.rewind();this.localOffset=this.list.first.length}this.localOffset-=bytes;this.offset-=bytes;while(this.list.first.prev&&this.localOffset<0){this.list.rewind();this.localOffset+=this.list.first.length}return this};Stream.prototype.seek=function(position){if(position>this.offset){return this.advance(position-this.offset)}else if(position<this.offset){return this.rewind(this.offset-position)}};Stream.prototype.readUInt8=function(){var a;if(!this.available(1)){throw new UnderflowError}a=this.list.first.data[this.localOffset];this.localOffset+=1;this.offset+=1;if(this.localOffset===this.list.first.length){this.localOffset=0;this.list.advance()}return a};Stream.prototype.peekUInt8=function(offset){var buffer;if(offset==null){offset=0}if(!this.available(offset+1)){throw new UnderflowError}offset=this.localOffset+offset;buffer=this.list.first;while(buffer){if(buffer.length>offset){return buffer.data[offset]}offset-=buffer.length;buffer=buffer.next}return 0};Stream.prototype.read=function(bytes,littleEndian){var i,_i,_j,_ref;if(littleEndian==null){littleEndian=false}if(littleEndian===nativeEndian){for(i=_i=0;_i<bytes;i=_i+=1){uint8[i]=this.readUInt8()}}else{for(i=_j=_ref=bytes-1;_j>=0;i=_j+=-1){uint8[i]=this.readUInt8()}}};Stream.prototype.peek=function(bytes,offset,littleEndian){var i,_i,_j;if(littleEndian==null){littleEndian=false}if(littleEndian===nativeEndian){for(i=_i=0;_i<bytes;i=_i+=1){uint8[i]=this.peekUInt8(offset+i)}}else{for(i=_j=0;_j<bytes;i=_j+=1){uint8[bytes-i-1]=this.peekUInt8(offset+i)}}};Stream.prototype.readInt8=function(){this.read(1);return int8[0]};Stream.prototype.peekInt8=function(offset){if(offset==null){offset=0}this.peek(1,offset);return int8[0]};Stream.prototype.readUInt16=function(littleEndian){this.read(2,littleEndian);return uint16[0]};Stream.prototype.peekUInt16=function(offset,littleEndian){if(offset==null){offset=0}this.peek(2,offset,littleEndian);return uint16[0]};Stream.prototype.readInt16=function(littleEndian){this.read(2,littleEndian);return int16[0]};Stream.prototype.peekInt16=function(offset,littleEndian){if(offset==null){offset=0}this.peek(2,offset,littleEndian);return int16[0]};Stream.prototype.readUInt24=function(littleEndian){if(littleEndian){return this.readUInt16(true)+(this.readUInt8()<<16)}else{return(this.readUInt16()<<8)+this.readUInt8()}};Stream.prototype.peekUInt24=function(offset,littleEndian){if(offset==null){offset=0}if(littleEndian){return this.peekUInt16(offset,true)+(this.peekUInt8(offset+2)<<16)}else{return(this.peekUInt16(offset)<<8)+this.peekUInt8(offset+2)}};Stream.prototype.readInt24=function(littleEndian){if(littleEndian){return this.readUInt16(true)+(this.readInt8()<<16)}else{return(this.readInt16()<<8)+this.readUInt8()}};Stream.prototype.peekInt24=function(offset,littleEndian){if(offset==null){offset=0}if(littleEndian){return this.peekUInt16(offset,true)+(this.peekInt8(offset+2)<<16)}else{return(this.peekInt16(offset)<<8)+this.peekUInt8(offset+2)}};Stream.prototype.readUInt32=function(littleEndian){this.read(4,littleEndian);return uint32[0]};Stream.prototype.peekUInt32=function(offset,littleEndian){if(offset==null){offset=0}this.peek(4,offset,littleEndian);return uint32[0]};Stream.prototype.readInt32=function(littleEndian){this.read(4,littleEndian);return int32[0]};Stream.prototype.peekInt32=function(offset,littleEndian){if(offset==null){offset=0}this.peek(4,offset,littleEndian);return int32[0]};Stream.prototype.readFloat32=function(littleEndian){this.read(4,littleEndian);return float32[0]};Stream.prototype.peekFloat32=function(offset,littleEndian){if(offset==null){offset=0}this.peek(4,offset,littleEndian);return float32[0]};Stream.prototype.readFloat64=function(littleEndian){this.read(8,littleEndian);if(float64){return float64[0]}else{return float64Fallback()}};float64Fallback=function(){var exp,frac,high,low,out,sign;low=uint32[0],high=uint32[1];if(!high||high===2147483648){return 0}sign=1-(high>>>31)*2;exp=high>>>20&2047;frac=high&1048575;if(exp===2047){if(frac){return NaN}return sign*Infinity}exp-=1023;out=(frac|1048576)*Math.pow(2,exp-20);out+=low*Math.pow(2,exp-52);return sign*out};Stream.prototype.peekFloat64=function(offset,littleEndian){if(offset==null){offset=0}this.peek(8,offset,littleEndian);if(float64){return float64[0]}else{return float64Fallback()}};Stream.prototype.readFloat80=function(littleEndian){this.read(10,littleEndian);return float80()};float80=function(){var a0,a1,exp,high,low,out,sign;high=uint32[0],low=uint32[1];a0=uint8[9];a1=uint8[8];sign=1-(a0>>>7)*2;exp=(a0&127)<<8|a1;if(exp===0&&low===0&&high===0){return 0}if(exp===32767){if(low===0&&high===0){return sign*Infinity}return NaN}exp-=16383;out=low*Math.pow(2,exp-31);out+=high*Math.pow(2,exp-63);return sign*out};Stream.prototype.peekFloat80=function(offset,littleEndian){if(offset==null){offset=0}this.peek(10,offset,littleEndian);return float80()};Stream.prototype.readBuffer=function(length){var i,result,to,_i;result=AVBuffer.allocate(length);to=result.data;for(i=_i=0;_i<length;i=_i+=1){to[i]=this.readUInt8()}return result};Stream.prototype.peekBuffer=function(offset,length){var i,result,to,_i;if(offset==null){offset=0}result=AVBuffer.allocate(length);to=result.data;for(i=_i=0;_i<length;i=_i+=1){to[i]=this.peekUInt8(offset+i)}return result};Stream.prototype.readSingleBuffer=function(length){var result;result=this.list.first.slice(this.localOffset,length);this.advance(result.length);return result};Stream.prototype.peekSingleBuffer=function(offset,length){var result;result=this.list.first.slice(this.localOffset+offset,length);return result};Stream.prototype.readString=function(length,encoding){if(encoding==null){encoding="ascii"}return decodeString.call(this,0,length,encoding,true)};Stream.prototype.peekString=function(offset,length,encoding){if(offset==null){offset=0}if(encoding==null){encoding="ascii"}return decodeString.call(this,offset,length,encoding,false)};decodeString=function(offset,length,encoding,advance){var b1,b2,b3,b4,bom,c,end,littleEndian,nullEnd,pt,result,w1,w2;encoding=encoding.toLowerCase();nullEnd=length===null?0:-1;if(length==null){length=Infinity}end=offset+length;result="";switch(encoding){case"ascii":case"latin1":while(offset<end&&(c=this.peekUInt8(offset++))!==nullEnd){result+=String.fromCharCode(c)}break;case"utf8":case"utf-8":while(offset<end&&(b1=this.peekUInt8(offset++))!==nullEnd){if((b1&128)===0){result+=String.fromCharCode(b1)}else if((b1&224)===192){b2=this.peekUInt8(offset++)&63;result+=String.fromCharCode((b1&31)<<6|b2)}else if((b1&240)===224){b2=this.peekUInt8(offset++)&63;b3=this.peekUInt8(offset++)&63;result+=String.fromCharCode((b1&15)<<12|b2<<6|b3)}else if((b1&248)===240){b2=this.peekUInt8(offset++)&63;b3=this.peekUInt8(offset++)&63;b4=this.peekUInt8(offset++)&63;pt=((b1&15)<<18|b2<<12|b3<<6|b4)-65536;result+=String.fromCharCode(55296+(pt>>10),56320+(pt&1023))}}break;case"utf16-be":case"utf16be":case"utf16le":case"utf16-le":case"utf16bom":case"utf16-bom":switch(encoding){case"utf16be":case"utf16-be":littleEndian=false;break;case"utf16le":case"utf16-le":littleEndian=true;break;case"utf16bom":case"utf16-bom":if(length<2||(bom=this.peekUInt16(offset))===nullEnd){if(advance){this.advance(offset+=2)}return result}littleEndian=bom===65534;offset+=2}while(offset<end&&(w1=this.peekUInt16(offset,littleEndian))!==nullEnd){offset+=2;if(w1<55296||w1>57343){result+=String.fromCharCode(w1)}else{if(w1>56319){throw new Error("Invalid utf16 sequence.")}w2=this.peekUInt16(offset,littleEndian);if(w2<56320||w2>57343){throw new Error("Invalid utf16 sequence.")}result+=String.fromCharCode(w1,w2);offset+=2}}if(w1===nullEnd){offset+=2}break;default:throw new Error("Unknown encoding: "+encoding)}if(advance){this.advance(offset)}return result};return Stream}();module.exports=Stream}).call(this)},{"./buffer":39,"./bufferlist":40,"./underflow":43}],43:[function(_dereq_,module,exports){(function(){var UnderflowError,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};UnderflowError=function(_super){__extends(UnderflowError,_super);function UnderflowError(){UnderflowError.__super__.constructor.apply(this,arguments);this.name="UnderflowError";this.stack=(new Error).stack}return UnderflowError}(Error);module.exports=UnderflowError}).call(this)},{}],44:[function(_dereq_,module,exports){(function(){var Bitstream,BufferList,Decoder,EventEmitter,Stream,UnderflowError,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};EventEmitter=_dereq_("./core/events");BufferList=_dereq_("./core/bufferlist");Stream=_dereq_("./core/stream");Bitstream=_dereq_("./core/bitstream");UnderflowError=_dereq_("./core/underflow");Decoder=function(_super){var codecs;__extends(Decoder,_super);function Decoder(demuxer,format){var list;this.demuxer=demuxer;this.format=format;list=new BufferList;this.stream=new Stream(list);this.bitstream=new Bitstream(this.stream);this.receivedFinalBuffer=false;this.waiting=false;this.demuxer.on("cookie",function(_this){return function(cookie){var error;try{return _this.setCookie(cookie)}catch(_error){error=_error;return _this.emit("error",error)}}}(this));this.demuxer.on("data",function(_this){return function(chunk){list.append(chunk);if(_this.waiting){return _this.decode()}}}(this));this.demuxer.on("end",function(_this){return function(){_this.receivedFinalBuffer=true;if(_this.waiting){return _this.decode()}}}(this));this.init()}Decoder.prototype.init=function(){};Decoder.prototype.setCookie=function(cookie){};Decoder.prototype.readChunk=function(){};Decoder.prototype.decode=function(){var error,offset,packet;this.waiting=false;offset=this.bitstream.offset();try{packet=this.readChunk()}catch(_error){error=_error;if(!(error instanceof UnderflowError)){this.emit("error",error);return false}}if(packet){this.emit("data",packet);return true}else if(!this.receivedFinalBuffer){this.bitstream.seek(offset);this.waiting=true}else{this.emit("end")}return false};Decoder.prototype.seek=function(timestamp){var seekPoint;seekPoint=this.demuxer.seek(timestamp);this.stream.seek(seekPoint.offset);return seekPoint.timestamp};codecs={};Decoder.register=function(id,decoder){return codecs[id]=decoder};Decoder.find=function(id){return codecs[id]||null};return Decoder}(EventEmitter);module.exports=Decoder}).call(this)},{"./core/bitstream":38,"./core/bufferlist":40,"./core/events":41,"./core/stream":42,"./core/underflow":43}],45:[function(_dereq_,module,exports){(function(){var BufferList,Demuxer,EventEmitter,Stream,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};EventEmitter=_dereq_("./core/events");BufferList=_dereq_("./core/bufferlist");Stream=_dereq_("./core/stream");Demuxer=function(_super){var formats;__extends(Demuxer,_super);Demuxer.probe=function(buffer){return false};function Demuxer(source,chunk){var list,received;list=new BufferList;list.append(chunk);this.stream=new Stream(list);received=false;source.on("data",function(_this){return function(chunk){received=true;list.append(chunk);return _this.readChunk(chunk)}}(this));source.on("error",function(_this){return function(err){return _this.emit("error",err)}}(this));source.on("end",function(_this){return function(){if(!received){_this.readChunk(chunk)}return _this.emit("end")}}(this));this.seekPoints=[];this.init()}Demuxer.prototype.init=function(){};Demuxer.prototype.readChunk=function(chunk){};Demuxer.prototype.addSeekPoint=function(offset,timestamp){var index;index=this.searchTimestamp(timestamp);return this.seekPoints.splice(index,0,{offset:offset,timestamp:timestamp})};Demuxer.prototype.searchTimestamp=function(timestamp,backward){var high,low,mid,time;low=0;high=this.seekPoints.length;if(high>0&&this.seekPoints[high-1].timestamp<timestamp){return high}while(low<high){mid=low+high>>1;time=this.seekPoints[mid].timestamp;if(time<timestamp){low=mid+1
}else if(time>=timestamp){high=mid}}if(high>this.seekPoints.length){high=this.seekPoints.length}return high};Demuxer.prototype.seek=function(timestamp){var index,seekPoint;if(this.format&&this.format.framesPerPacket>0&&this.format.bytesPerPacket>0){seekPoint={timestamp:timestamp,offset:this.format.bytesPerPacket*timestamp/this.format.framesPerPacket};return seekPoint}else{index=this.searchTimestamp(timestamp);return this.seekPoints[index]}};formats=[];Demuxer.register=function(demuxer){return formats.push(demuxer)};Demuxer.find=function(buffer){var format,stream,_i,_len;stream=Stream.fromBuffer(buffer);for(_i=0,_len=formats.length;_i<_len;_i++){format=formats[_i];if(format.probe(stream)){return format}}return null};return Demuxer}(EventEmitter);module.exports=Demuxer}).call(this)},{"./core/bufferlist":40,"./core/events":41,"./core/stream":42}],46:[function(_dereq_,module,exports){(function(){var AudioDevice,EventEmitter,__bind=function(fn,me){return function(){return fn.apply(me,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};EventEmitter=_dereq_("./core/events");AudioDevice=function(_super){var devices;__extends(AudioDevice,_super);function AudioDevice(sampleRate,channels){this.sampleRate=sampleRate;this.channels=channels;this.updateTime=__bind(this.updateTime,this);this.playing=false;this.currentTime=0;this._lastTime=0}AudioDevice.prototype.start=function(){if(this.playing){return}this.playing=true;if(this.device==null){this.device=AudioDevice.create(this.sampleRate,this.channels)}if(!this.device){throw new Error("No supported audio device found.")}this._lastTime=this.device.getDeviceTime();this._timer=setInterval(this.updateTime,200);return this.device.on("refill",this.refill=function(_this){return function(buffer){return _this.emit("refill",buffer)}}(this))};AudioDevice.prototype.stop=function(){if(!this.playing){return}this.playing=false;this.device.off("refill",this.refill);return clearInterval(this._timer)};AudioDevice.prototype.destroy=function(){this.stop();return this.device.destroy()};AudioDevice.prototype.seek=function(currentTime){this.currentTime=currentTime;if(this.playing){this._lastTime=this.device.getDeviceTime()}return this.emit("timeUpdate",this.currentTime)};AudioDevice.prototype.updateTime=function(){var time;time=this.device.getDeviceTime();this.currentTime+=(time-this._lastTime)/this.device.sampleRate*1e3|0;this._lastTime=time;return this.emit("timeUpdate",this.currentTime)};devices=[];AudioDevice.register=function(device){return devices.push(device)};AudioDevice.create=function(sampleRate,channels){var device,_i,_len;for(_i=0,_len=devices.length;_i<_len;_i++){device=devices[_i];if(device.supported){return new device(sampleRate,channels)}}return null};return AudioDevice}(EventEmitter);module.exports=AudioDevice}).call(this)},{"./core/events":41}],47:[function(_dereq_,module,exports){(function(){var AVBuffer,AudioDevice,EventEmitter,MozillaAudioDevice,__bind=function(fn,me){return function(){return fn.apply(me,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};EventEmitter=_dereq_("../core/events");AudioDevice=_dereq_("../device");AVBuffer=_dereq_("../core/buffer");MozillaAudioDevice=function(_super){var createTimer,destroyTimer;__extends(MozillaAudioDevice,_super);AudioDevice.register(MozillaAudioDevice);MozillaAudioDevice.supported=typeof Audio!=="undefined"&&Audio!==null&&"mozWriteAudio"in new Audio;function MozillaAudioDevice(sampleRate,channels){this.sampleRate=sampleRate;this.channels=channels;this.refill=__bind(this.refill,this);this.audio=new Audio;this.audio.mozSetup(this.channels,this.sampleRate);this.writePosition=0;this.prebufferSize=this.sampleRate/2;this.tail=null;this.timer=createTimer(this.refill,100)}MozillaAudioDevice.prototype.refill=function(){var available,buffer,currentPosition,written;if(this.tail){written=this.audio.mozWriteAudio(this.tail);this.writePosition+=written;if(this.writePosition<this.tail.length){this.tail=this.tail.subarray(written)}else{this.tail=null}}currentPosition=this.audio.mozCurrentSampleOffset();available=currentPosition+this.prebufferSize-this.writePosition;if(available>0){buffer=new Float32Array(available);this.emit("refill",buffer);written=this.audio.mozWriteAudio(buffer);if(written<buffer.length){this.tail=buffer.subarray(written)}this.writePosition+=written}};MozillaAudioDevice.prototype.destroy=function(){return destroyTimer(this.timer)};MozillaAudioDevice.prototype.getDeviceTime=function(){return this.audio.mozCurrentSampleOffset()/this.channels};createTimer=function(fn,interval){var url,worker;url=AVBuffer.makeBlobURL("setInterval(function() { postMessage('ping'); }, "+interval+");");if(url==null){return setInterval(fn,interval)}worker=new Worker(url);worker.onmessage=fn;worker.url=url;return worker};destroyTimer=function(timer){if(timer.terminate){timer.terminate();return URL.revokeObjectURL(timer.url)}else{return clearInterval(timer)}};return MozillaAudioDevice}(EventEmitter)}).call(this)},{"../core/buffer":39,"../core/events":41,"../device":46}],48:[function(_dereq_,module,exports){function Resampler(fromSampleRate,toSampleRate,channels,outputBufferSize,noReturn){this.fromSampleRate=fromSampleRate;this.toSampleRate=toSampleRate;this.channels=channels|0;this.outputBufferSize=outputBufferSize;this.noReturn=!!noReturn;this.initialize()}Resampler.prototype.initialize=function(){if(this.fromSampleRate>0&&this.toSampleRate>0&&this.channels>0){if(this.fromSampleRate==this.toSampleRate){this.resampler=this.bypassResampler;this.ratioWeight=1}else{if(this.fromSampleRate<this.toSampleRate){this.compileLinearInterpolationFunction();this.lastWeight=1}else{this.compileMultiTapFunction();this.tailExists=false;this.lastWeight=0}this.ratioWeight=this.fromSampleRate/this.toSampleRate;this.initializeBuffers()}}else{throw new Error("Invalid settings specified for the resampler.")}};Resampler.prototype.compileLinearInterpolationFunction=function(){var toCompile="var bufferLength = buffer.length;	var outLength = this.outputBufferSize;	if ((bufferLength % "+this.channels+") == 0) {		if (bufferLength > 0) {			var ratioWeight = this.ratioWeight;			var weight = this.lastWeight;			var firstWeight = 0;			var secondWeight = 0;			var sourceOffset = 0;			var outputOffset = 0;			var outputBuffer = this.outputBuffer;			for (; weight < 1; weight += ratioWeight) {				secondWeight = weight % 1;				firstWeight = 1 - secondWeight;";for(var channel=0;channel<this.channels;++channel){toCompile+="outputBuffer[outputOffset++] = (this.lastOutput["+channel+"] * firstWeight) + (buffer["+channel+"] * secondWeight);"}toCompile+="}			weight -= 1;			for (bufferLength -= "+this.channels+", sourceOffset = Math.floor(weight) * "+this.channels+"; outputOffset < outLength && sourceOffset < bufferLength;) {				secondWeight = weight % 1;				firstWeight = 1 - secondWeight;";for(var channel=0;channel<this.channels;++channel){toCompile+="outputBuffer[outputOffset++] = (buffer[sourceOffset"+(channel>0?" + "+channel:"")+"] * firstWeight) + (buffer[sourceOffset + "+(this.channels+channel)+"] * secondWeight);"}toCompile+="weight += ratioWeight;				sourceOffset = Math.floor(weight) * "+this.channels+";			}";for(var channel=0;channel<this.channels;++channel){toCompile+="this.lastOutput["+channel+"] = buffer[sourceOffset++];"}toCompile+='this.lastWeight = weight % 1;			return this.bufferSlice(outputOffset);		}		else {			return (this.noReturn) ? 0 : [];		}	}	else {		throw(new Error("Buffer was of incorrect sample length."));	}';this.resampler=Function("buffer",toCompile)};Resampler.prototype.compileMultiTapFunction=function(){var toCompile="var bufferLength = buffer.length;	var outLength = this.outputBufferSize;	if ((bufferLength % "+this.channels+") == 0) {		if (bufferLength > 0) {			var ratioWeight = this.ratioWeight;			var weight = 0;";for(var channel=0;channel<this.channels;++channel){toCompile+="var output"+channel+" = 0;"}toCompile+="var actualPosition = 0;			var amountToNext = 0;			var alreadyProcessedTail = !this.tailExists;			this.tailExists = false;			var outputBuffer = this.outputBuffer;			var outputOffset = 0;			var currentPosition = 0;			do {				if (alreadyProcessedTail) {					weight = ratioWeight;";for(channel=0;channel<this.channels;++channel){toCompile+="output"+channel+" = 0;"}toCompile+="}				else {					weight = this.lastWeight;";for(channel=0;channel<this.channels;++channel){toCompile+="output"+channel+" = this.lastOutput["+channel+"];"}toCompile+="alreadyProcessedTail = true;				}				while (weight > 0 && actualPosition < bufferLength) {					amountToNext = 1 + actualPosition - currentPosition;					if (weight >= amountToNext) {";for(channel=0;channel<this.channels;++channel){toCompile+="output"+channel+" += buffer[actualPosition++] * amountToNext;"}toCompile+="currentPosition = actualPosition;						weight -= amountToNext;					}					else {";for(channel=0;channel<this.channels;++channel){toCompile+="output"+channel+" += buffer[actualPosition"+(channel>0?" + "+channel:"")+"] * weight;"}toCompile+="currentPosition += weight;						weight = 0;						break;					}				}				if (weight == 0) {";for(channel=0;channel<this.channels;++channel){toCompile+="outputBuffer[outputOffset++] = output"+channel+" / ratioWeight;"}toCompile+="}				else {					this.lastWeight = weight;";for(channel=0;channel<this.channels;++channel){toCompile+="this.lastOutput["+channel+"] = output"+channel+";"}toCompile+='this.tailExists = true;					break;				}			} while (actualPosition < bufferLength && outputOffset < outLength);			return this.bufferSlice(outputOffset);		}		else {			return (this.noReturn) ? 0 : [];		}	}	else {		throw(new Error("Buffer was of incorrect sample length."));	}';this.resampler=Function("buffer",toCompile)};Resampler.prototype.bypassResampler=function(buffer){if(this.noReturn){this.outputBuffer=buffer;return buffer.length}else{return buffer}};Resampler.prototype.bufferSlice=function(sliceAmount){if(this.noReturn){return sliceAmount}else{try{return this.outputBuffer.subarray(0,sliceAmount)}catch(error){try{this.outputBuffer.length=sliceAmount;return this.outputBuffer}catch(error){return this.outputBuffer.slice(0,sliceAmount)}}}};Resampler.prototype.initializeBuffers=function(){try{this.outputBuffer=new Float32Array(this.outputBufferSize);this.lastOutput=new Float32Array(this.channels)}catch(error){this.outputBuffer=[];this.lastOutput=[]}};module.exports=Resampler},{}],49:[function(_dereq_,module,exports){(function(global){(function(){var AudioDevice,EventEmitter,Resampler,WebAudioDevice,__bind=function(fn,me){return function(){return fn.apply(me,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};EventEmitter=_dereq_("../core/events");AudioDevice=_dereq_("../device");Resampler=_dereq_("./resampler");WebAudioDevice=function(_super){var AudioContext,createProcessor,sharedContext;__extends(WebAudioDevice,_super);AudioDevice.register(WebAudioDevice);AudioContext=global.AudioContext||global.webkitAudioContext;WebAudioDevice.supported=AudioContext&&(typeof AudioContext.prototype[createProcessor="createScriptProcessor"]==="function"||typeof AudioContext.prototype[createProcessor="createJavaScriptNode"]==="function");sharedContext=null;function WebAudioDevice(sampleRate,channels){this.sampleRate=sampleRate;this.channels=channels;this.refill=__bind(this.refill,this);this.context=sharedContext!=null?sharedContext:sharedContext=new AudioContext;this.deviceSampleRate=this.context.sampleRate;this.bufferSize=Math.ceil(4096/(this.deviceSampleRate/this.sampleRate)*this.channels);this.bufferSize+=this.bufferSize%this.channels;if(this.deviceSampleRate!==this.sampleRate){this.resampler=new Resampler(this.sampleRate,this.deviceSampleRate,this.channels,4096*this.channels)}this.node=this.context[createProcessor](4096,this.channels,this.channels);this.node.onaudioprocess=this.refill;this.node.connect(this.context.destination)}WebAudioDevice.prototype.refill=function(event){var channelCount,channels,data,i,n,outputBuffer,_i,_j,_k,_ref;outputBuffer=event.outputBuffer;channelCount=outputBuffer.numberOfChannels;channels=new Array(channelCount);for(i=_i=0;_i<channelCount;i=_i+=1){channels[i]=outputBuffer.getChannelData(i)}data=new Float32Array(this.bufferSize);this.emit("refill",data);if(this.resampler){data=this.resampler.resampler(data)}for(i=_j=0,_ref=outputBuffer.length;_j<_ref;i=_j+=1){for(n=_k=0;_k<channelCount;n=_k+=1){channels[n][i]=data[i*channelCount+n]}}};WebAudioDevice.prototype.destroy=function(){return this.node.disconnect(0)};WebAudioDevice.prototype.getDeviceTime=function(){return this.context.currentTime*this.sampleRate};return WebAudioDevice}(EventEmitter)}).call(this)}).call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../core/events":41,"../device":46,"./resampler":48}],50:[function(_dereq_,module,exports){(function(){var Filter;Filter=function(){function Filter(context,key){if(context&&key){Object.defineProperty(this,"value",{get:function(){return context[key]}})}}Filter.prototype.process=function(buffer){};return Filter}();module.exports=Filter}).call(this)},{}],51:[function(_dereq_,module,exports){(function(){var BalanceFilter,Filter,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};Filter=_dereq_("../filter");BalanceFilter=function(_super){__extends(BalanceFilter,_super);function BalanceFilter(){return BalanceFilter.__super__.constructor.apply(this,arguments)}BalanceFilter.prototype.process=function(buffer){var i,pan,_i,_ref;if(this.value===0){return}pan=Math.max(-50,Math.min(50,this.value));for(i=_i=0,_ref=buffer.length;_i<_ref;i=_i+=2){buffer[i]*=Math.min(1,(50-pan)/50);buffer[i+1]*=Math.min(1,(50+pan)/50)}};return BalanceFilter}(Filter);module.exports=BalanceFilter}).call(this)},{"../filter":50}],52:[function(_dereq_,module,exports){(function(){var Filter,VolumeFilter,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};Filter=_dereq_("../filter");VolumeFilter=function(_super){__extends(VolumeFilter,_super);function VolumeFilter(){return VolumeFilter.__super__.constructor.apply(this,arguments)}VolumeFilter.prototype.process=function(buffer){var i,vol,_i,_ref;if(this.value>=100){return}vol=Math.max(0,Math.min(100,this.value))/100;for(i=_i=0,_ref=buffer.length;_i<_ref;i=_i+=1){buffer[i]*=vol}};return VolumeFilter}(Filter);module.exports=VolumeFilter}).call(this)},{"../filter":50}],53:[function(_dereq_,module,exports){(function(){var Asset,AudioDevice,BalanceFilter,EventEmitter,Player,Queue,VolumeFilter,__bind=function(fn,me){return function(){return fn.apply(me,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};EventEmitter=_dereq_("./core/events");Asset=_dereq_("./asset");VolumeFilter=_dereq_("./filters/volume");BalanceFilter=_dereq_("./filters/balance");Queue=_dereq_("./queue");AudioDevice=_dereq_("./device");Player=function(_super){__extends(Player,_super);function Player(asset){this.asset=asset;this.startPlaying=__bind(this.startPlaying,this);this.playing=false;this.buffered=0;this.currentTime=0;this.duration=0;this.volume=100;this.pan=0;this.metadata={};this.filters=[new VolumeFilter(this,"volume"),new BalanceFilter(this,"pan")];this.asset.on("buffer",function(_this){return function(buffered){_this.buffered=buffered;return _this.emit("buffer",_this.buffered)}}(this));this.asset.on("decodeStart",function(_this){return function(){_this.queue=new Queue(_this.asset);return _this.queue.once("ready",_this.startPlaying)}}(this));this.asset.on("format",function(_this){return function(format){_this.format=format;return _this.emit("format",_this.format)}}(this));this.asset.on("metadata",function(_this){return function(metadata){_this.metadata=metadata;return _this.emit("metadata",_this.metadata)}}(this));this.asset.on("duration",function(_this){return function(duration){_this.duration=duration;return _this.emit("duration",_this.duration)}}(this));this.asset.on("error",function(_this){return function(error){return _this.emit("error",error)}}(this))}Player.fromURL=function(url){return new Player(Asset.fromURL(url))};Player.fromFile=function(file){return new Player(Asset.fromFile(file))};Player.fromBuffer=function(buffer){return new Player(Asset.fromBuffer(buffer))};Player.prototype.preload=function(){if(!this.asset){return}this.startedPreloading=true;return this.asset.start(false)};Player.prototype.play=function(){var _ref;if(this.playing){return}if(!this.startedPreloading){this.preload()}this.playing=true;return(_ref=this.device)!=null?_ref.start():void 0};Player.prototype.pause=function(){var _ref;if(!this.playing){return}this.playing=false;return(_ref=this.device)!=null?_ref.stop():void 0};Player.prototype.togglePlayback=function(){if(this.playing){return this.pause()}else{return this.play()}};Player.prototype.stop=function(){var _ref;this.pause();this.asset.stop();return(_ref=this.device)!=null?_ref.destroy():void 0};Player.prototype.seek=function(timestamp){var _ref;if((_ref=this.device)!=null){_ref.stop()}this.queue.once("ready",function(_this){return function(){var _ref1,_ref2;if((_ref1=_this.device)!=null){_ref1.seek(_this.currentTime)}if(_this.playing){return(_ref2=_this.device)!=null?_ref2.start():void 0}}}(this));timestamp=timestamp/1e3*this.format.sampleRate;timestamp=this.asset.decoder.seek(timestamp);this.currentTime=timestamp/this.format.sampleRate*1e3|0;this.queue.reset();return this.currentTime};Player.prototype.startPlaying=function(){var frame,frameOffset;frame=this.queue.read();frameOffset=0;this.device=new AudioDevice(this.format.sampleRate,this.format.channelsPerFrame);this.device.on("timeUpdate",function(_this){return function(currentTime){_this.currentTime=currentTime;return _this.emit("progress",_this.currentTime)}}(this));this.refill=function(_this){return function(buffer){var bufferOffset,filter,i,max,_i,_j,_len,_ref;if(!_this.playing){return}if(!frame){frame=_this.queue.read();frameOffset=0}bufferOffset=0;while(frame&&bufferOffset<buffer.length){max=Math.min(frame.length-frameOffset,buffer.length-bufferOffset);for(i=_i=0;_i<max;i=_i+=1){buffer[bufferOffset++]=frame[frameOffset++]}if(frameOffset===frame.length){frame=_this.queue.read();frameOffset=0}}_ref=_this.filters;for(_j=0,_len=_ref.length;_j<_len;_j++){filter=_ref[_j];filter.process(buffer)}if(!frame){if(_this.queue.ended){_this.currentTime=_this.duration;_this.emit("progress",_this.currentTime);_this.emit("end");_this.stop()}else{_this.device.stop()}}}}(this);this.device.on("refill",this.refill);if(this.playing){this.device.start()}return this.emit("ready")};return Player}(EventEmitter);module.exports=Player}).call(this)},{"./asset":35,"./core/events":41,"./device":46,"./filters/balance":51,"./filters/volume":52,"./queue":54}],54:[function(_dereq_,module,exports){(function(){var EventEmitter,Queue,__bind=function(fn,me){return function(){return fn.apply(me,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};EventEmitter=_dereq_("./core/events");Queue=function(_super){__extends(Queue,_super);function Queue(asset){this.asset=asset;this.write=__bind(this.write,this);this.readyMark=64;this.finished=false;this.buffering=true;this.ended=false;this.buffers=[];this.asset.on("data",this.write);this.asset.on("end",function(_this){return function(){return _this.ended=true}}(this));this.asset.decodePacket()}Queue.prototype.write=function(buffer){if(buffer){this.buffers.push(buffer)}if(this.buffering){if(this.buffers.length>=this.readyMark||this.ended){this.buffering=false;return this.emit("ready")}else{return this.asset.decodePacket()}}};Queue.prototype.read=function(){if(this.buffers.length===0){return null}this.asset.decodePacket();return this.buffers.shift()};Queue.prototype.reset=function(){this.buffers.length=0;this.buffering=true;return this.asset.decodePacket()};return Queue}(EventEmitter);module.exports=Queue}).call(this)},{"./core/events":41}],55:[function(_dereq_,module,exports){(function(global){(function(){var AVBuffer,BufferList,BufferSource,EventEmitter,__bind=function(fn,me){return function(){return fn.apply(me,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};EventEmitter=_dereq_("../core/events");BufferList=_dereq_("../core/bufferlist");AVBuffer=_dereq_("../core/buffer");BufferSource=function(_super){var clearImmediate,setImmediate;__extends(BufferSource,_super);function BufferSource(input){this.loop=__bind(this.loop,this);if(input instanceof AV.BufferList){this.list=input}else{this.list=new BufferList;this.list.append(new AVBuffer(input))}this.paused=true}setImmediate=global.setImmediate||function(fn){return global.setTimeout(fn,0)};clearImmediate=global.clearImmediate||function(timer){return global.clearTimeout(timer)};BufferSource.prototype.start=function(){this.paused=false;return this._timer=setImmediate(this.loop)};BufferSource.prototype.loop=function(){this.emit("progress",(this.list.numBuffers-this.list.availableBuffers+1)/this.list.numBuffers*100|0);this.emit("data",this.list.first);if(this.list.advance()){return setImmediate(this.loop)}else{return this.emit("end")}};BufferSource.prototype.pause=function(){clearImmediate(this._timer);return this.paused=true};BufferSource.prototype.reset=function(){this.pause();return this.list.rewind()};return BufferSource}(EventEmitter);module.exports=BufferSource}).call(this)}).call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../core/buffer":39,"../core/bufferlist":40,"../core/events":41}],56:[function(_dereq_,module,exports){(function(Buffer){(function(){var AVBuffer,EventEmitter,FileSource,fs,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};EventEmitter=_dereq_("../../core/events");AVBuffer=_dereq_("../../core/buffer");fs=_dereq_("fs");FileSource=function(_super){__extends(FileSource,_super);function FileSource(filename){this.filename=filename;this.stream=null;this.loaded=0;this.size=null}FileSource.prototype.getSize=function(){return fs.stat(this.filename,function(_this){return function(err,stat){if(err){return _this.emit("error",err)}_this.size=stat.size;return _this.start()}}(this))};FileSource.prototype.start=function(){var b,blen;if(this.size==null){return this.getSize()}if(this.stream){return this.stream.resume()}this.stream=fs.createReadStream(this.filename);b=new Buffer(1<<20);blen=0;this.stream.on("data",function(_this){return function(buf){_this.loaded+=buf.length;buf.copy(b,blen);blen=blen+buf.length;_this.emit("progress",_this.loaded/_this.size*100);if(blen>=b.length||_this.loaded>=_this.size){if(blen<b.length){b=b.slice(0,blen)}_this.emit("data",new AVBuffer(new Uint8Array(b)));blen-=b.length;return buf.copy(b,0,blen)}}}(this));this.stream.on("end",function(_this){return function(){return _this.emit("end")}}(this));return this.stream.on("error",function(_this){return function(err){_this.pause();return _this.emit("error",err)}}(this))};FileSource.prototype.pause=function(){return this.stream.pause()};return FileSource}(EventEmitter);module.exports=FileSource}).call(this)}).call(this,_dereq_("buffer").Buffer)},{"../../core/buffer":39,"../../core/events":41,buffer:3,fs:2}],57:[function(_dereq_,module,exports){(function(){var AVBuffer,EventEmitter,HTTPSource,http,__bind=function(fn,me){return function(){return fn.apply(me,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};EventEmitter=_dereq_("../../core/events");AVBuffer=_dereq_("../../core/buffer");http=_dereq_("http");HTTPSource=function(_super){__extends(HTTPSource,_super);function HTTPSource(url){this.url=url;this.errorHandler=__bind(this.errorHandler,this);this.request=null;this.response=null;this.loaded=0;this.size=0}HTTPSource.prototype.start=function(){if(this.response!=null){return this.response.resume()}this.request=http.get(this.url);this.request.on("response",function(_this){return function(response){_this.response=response;if(_this.response.statusCode!==200){return _this.errorHandler("Error loading file. HTTP status code "+_this.response.statusCode)}_this.size=parseInt(_this.response.headers["content-length"]);_this.loaded=0;_this.response.on("data",function(chunk){_this.loaded+=chunk.length;_this.emit("progress",_this.loaded/_this.size*100);return _this.emit("data",new AVBuffer(new Uint8Array(chunk)))});_this.response.on("end",function(){return _this.emit("end")});return _this.response.on("error",_this.errorHandler)}}(this));return this.request.on("error",this.errorHandler)};HTTPSource.prototype.pause=function(){var _ref;return(_ref=this.response)!=null?_ref.pause():void 0};HTTPSource.prototype.reset=function(){this.pause();this.request.abort();this.request=null;return this.response=null};HTTPSource.prototype.errorHandler=function(err){this.reset();return this.emit("error",err)};return HTTPSource}(EventEmitter);module.exports=HTTPSource}).call(this)},{"../../core/buffer":39,"../../core/events":41,http:8}]},{},[1])(1)});